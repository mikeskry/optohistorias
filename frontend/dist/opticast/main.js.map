{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAC+C;AACoC;AACR;AACG;AAEL;;;;;;;IAOrES,uDAAA,iBAAuD;;;AAKrD,MAAOE,YAAY;EAIvBC,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IALhB,KAAAC,KAAK,GAAG,YAAY;IAOlB,MAAMC,gBAAgB,GAAG,IAAI,CAACH,WAAW,CAACG,gBAAgB;IAE1D;IACA,MAAMC,YAAY,GAAG,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,IAAI,CAC1Cd,4CAAM,CAAEe,KAAK,IAA6BA,KAAK,YAAYlB,0DAAa,CAAC,EACzEI,yCAAG,CAAEc,KAAoB,IAAKA,KAAK,CAACC,GAAG,KAAK,QAAQ,IAAID,KAAK,CAACE,iBAAiB,KAAK,QAAQ,CAAC,EAC7Ff,+CAAS,CAAC,IAAI,CAACO,MAAM,CAACO,GAAG,KAAK,QAAQ,CAAC,CACxC;IAED;IACA;IACA,IAAI,CAACE,WAAW,GAAGf,mDAAa,CAAC,CAACQ,gBAAgB,EAAEC,YAAY,CAAC,CAAC,CAACE,IAAI,CACrEb,yCAAG,CAAC,CAAC,CAACkB,aAAa,EAAEC,OAAO,CAAC,KAAI;MAC/B;MACA,IAAI,CAACD,aAAa,EAAE;QAClB,OAAO,KAAK;;MAEd;MACA,IAAIC,OAAO,EAAE;QACX,OAAO,KAAK;;MAEd;MACA,OAAO,IAAI;IACb,CAAC,CAAC,CACH;EACH;;;uBAjCWd,YAAY,EAAAF,+DAAA,CAAAkB,+DAAA,GAAAlB,+DAAA,CAAAoB,mDAAA;IAAA;EAAA;;;YAAZlB,YAAY;MAAAoB,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAxB,iEAAA;MAAA0B,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UALrB/B,wDAAA,IAAAkC,kCAAA,wBAA0C;;UAE1ClC,uDADA,oBAA+B,gBACR;;;UAFVA,wDAAA,SAAAA,yDAAA,OAAAgC,GAAA,CAAAlB,WAAA,EAA2B;;;qBAFhCvB,yDAAY,EAAA8C,iDAAA,EAAAA,sDAAA,EAAE7C,yDAAY,EAAEE,oFAAc,EAAEC,uFAAe;MAAA6C,aAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;;;ACVvB;AAC2B;AACF;AAEnC;AAC4B;AAE3D,MAAMO,SAAS,GAAsB;EAC1CC,SAAS,EAAE,CACTP,8DAAa,CAACI,+CAAM,CAAC,EACrBH,uEAAiB,CACfC,sEAAgB,CAAC,CAACG,2EAAe,CAAC,CAAC,CACpC,EACDF,uFAAiB,EAAE;CAEtB,C;;;;;;;;;;;;;;;;;;ACf+C;AACE;AACE;AACiB;AAE9D,MAAMC,MAAM,GAAW,CAC5B;EACEQ,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE;CACZ,EACD;EACEF,IAAI,EAAE,OAAO;EACbG,aAAa,EAAEA,CAAA,KAAM,gSAAiD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,cAAc;CAClG,EACD;EACEN,IAAI,EAAE,iBAAiB;EACvBG,aAAa,EAAEA,CAAA,KAAM,wUAAqE,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACE,uBAAuB,CAAC;EAC/HC,WAAW,EAAE,CAACT,8EAAmB;CAClC,EACD;EACEC,IAAI,EAAE,WAAW;EACjBG,aAAa,EAAEA,CAAA,KAAM,wMAAoD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACI,kBAAkB,CAAC;EACzGD,WAAW,EAAE,CAACZ,yDAAS;CACxB,EACD;EACEI,IAAI,EAAE,SAAS;EACfG,aAAa,EAAEA,CAAA,KAAM,2UAAsD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACK,gBAAgB,CAAC;EACzGF,WAAW,EAAE,CAACX,2DAAU;CACzB,EACD;EACEG,IAAI,EAAE,WAAW;EACjBG,aAAa,EAAEA,CAAA,KAAM,uUAAoD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACM,kBAAkB,CAAC;EACzGH,WAAW,EAAE,CAACV,6DAAW;CAC1B,EACD;EACEE,IAAI,EAAE,oBAAoB;EAC1BG,aAAa,EAAEA,CAAA,KAAM,2WAAsE,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACO,0BAA0B,CAAC;EACnIJ,WAAW,EAAE,CAACV,6DAAW;CAC1B,EACD;EACEE,IAAI,EAAE,WAAW;EACjBG,aAAa,EAAEA,CAAA,KAAM,uUAAoD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACQ,kBAAkB,CAAC;EACzGL,WAAW,EAAE,CAACV,6DAAW;CAC1B,EACD;EACEE,IAAI,EAAE,OAAO;EACbG,aAAa,EAAEA,CAAA,KAAM,uTAA4C,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACS,cAAc,CAAC;EAC7FN,WAAW,EAAE,CAACV,6DAAW;CAC1B,EACD;EACEE,IAAI,EAAE,OAAO;EACbG,aAAa,EAAEA,CAAA,KAAM,sRAA4C,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACU,cAAc,CAAC;EAC7FP,WAAW,EAAE,CAACV,6DAAW;CAC1B,EACD;EACEE,IAAI,EAAE,OAAO;EACbG,aAAa,EAAEA,CAAA,KAAM,uTAA4C,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACW,cAAc,CAAC;EAC7FR,WAAW,EAAE,CAACX,2DAAU;CACzB,EACD;EACEG,IAAI,EAAE,UAAU;EAChBG,aAAa,EAAEA,CAAA,KAAM,mUAAkD,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACY,iBAAiB,CAAC;EACtGT,WAAW,EAAE,CAACZ,yDAAS;CACxB,EACD;EACEI,IAAI,EAAE,IAAI;EACVC,UAAU,EAAE;CACb,CACF,C;;;;;;;;;;;;;;;;;;;ACrE8C;AAIoB;;;;;;;IAYzDtD,4DAAA,cAAoE;IAClEA,uDAAA,cAE+B;IACjCA,0DAAA,EAAM;;;;IAHCA,uDAAA,EAA0B;IAC1BA,wDADA,QAAA2E,MAAA,CAAAC,gBAAA,IAAA5E,2DAAA,CAA0B,SAAA2E,MAAA,CAAAG,WAAA,kBAAAH,MAAA,CAAAG,WAAA,CAAAC,aAAA,8BAC+B;;;;;IAKhE/E,4DAAA,cAA0D;IACxDA,uDAAA,YAA0B;IAC5BA,0DAAA,EAAM;;;;;;IAeNA,4DAAA,cAA+G;IAA3CA,wDAAA,mBAAAiF,2DAAA;MAAAjF,2DAAA,CAAAmF,GAAA;MAAA,MAAAR,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAW,aAAA,EAAe;IAAA,EAAC;IAC3FtF,uDAAA,YAA4B;IAC5BA,4DAAA,WAAM;IAAAA,oDAAA,gBAAS;IACjBA,0DADiB,EAAO,EAClB;;;;IAHiBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,eAA4C;;;;;;IAKnEzF,4DAAA,cAA0G;IAAxCA,wDAAA,mBAAA0F,2DAAA;MAAA1F,2DAAA,CAAA2F,GAAA;MAAA,MAAAhB,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAiB,WAAA,EAAa;IAAA,EAAC;IACvF5F,uDAAA,YAA+B;IAC/BA,4DAAA,WAAM;IAAAA,oDAAA,mBAAO;IACfA,0DADe,EAAO,EAChB;;;;IAHiBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,aAA0C;;;;;;IAKjEzF,4DAAA,cAAuG;IAAvCA,wDAAA,mBAAA6F,2DAAA;MAAA7F,2DAAA,CAAA8F,GAAA;MAAA,MAAAnB,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAoB,SAAA,EAAW;IAAA,EAAC;IACnF/F,uDAAA,YAAmC;IACnCA,4DAAA,WAAM;IAAAA,oDAAA,YAAK;IACbA,0DADa,EAAO,EACd;;;;IAHiBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,WAAwC;;;;;;IAK/DzF,4DAAA,cAAuG;IAAvCA,wDAAA,mBAAAgG,2DAAA;MAAAhG,2DAAA,CAAAiG,GAAA;MAAA,MAAAtB,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAuB,SAAA,EAAW;IAAA,EAAC;IACnFlG,uDAAA,YAAgC;IAChCA,4DAAA,WAAM;IAAAA,oDAAA,YAAK;IACbA,0DADa,EAAO,EACd;;;;IAHiBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,WAAwC;;;;;;IApB/DzF,4DADF,cAA0D,cACsC;IAA1BA,wDAAA,mBAAAmG,qDAAA;MAAAnG,2DAAA,CAAAoG,GAAA;MAAA,MAAAzB,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAA0B,aAAA,EAAe;IAAA,EAAC;IAC3FrG,uDAAA,YAAqC;IACrCA,4DAAA,WAAM;IAAAA,oDAAA,gBAAS;IACjBA,0DADiB,EAAO,EAClB;IAiBNA,wDAfA,IAAAsG,qCAAA,kBAA+G,IAAAC,qCAAA,kBAKL,IAAAC,qCAAA,kBAKH,IAAAC,qCAAA,kBAKA;IAKvGzG,4DAAA,cAA4F;IAAzBA,wDAAA,mBAAA0G,qDAAA;MAAA1G,2DAAA,CAAAoG,GAAA;MAAA,MAAAzB,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAgC,YAAA,EAAc;IAAA,EAAC;IACzF3G,uDAAA,aAAiC;IACjCA,4DAAA,YAAM;IAAAA,oDAAA,gBAAQ;IAElBA,0DAFkB,EAAO,EACjB,EACF;;;;IA7BmBA,uDAAA,EAA4C;IAA5CA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,eAA4C;IAK4BzF,uDAAA,GAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAKlB5G,uDAAA,EAAa;IAAbA,wDAAA,SAAA2E,MAAA,CAAAiC,OAAA,CAAa;IAKjB5G,uDAAA,EAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAKd5G,uDAAA,EAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAK9E5G,uDAAA,EAA2C;IAA3CA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,cAA2C;;;;;;IAQlEzF,4DADF,cAA6C,cACO;IAA3BA,wDAAA,mBAAA6G,qDAAA;MAAA7G,2DAAA,CAAA8G,GAAA;MAAA,MAAAnC,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAoC,cAAA,EAAgB;IAAA,EAAC;IAC/C/G,4DAAA,cAAyB;IACvBA,uDAAA,YAAkC;IACpCA,0DAAA,EAAM;IAEJA,4DADF,cAA0B,eACA;IAAAA,oDAAA,GAAoD;IAAAA,0DAAA,EAAO;IACnFA,4DAAA,eAAwB;IAAAA,oDAAA,GAA8D;IACxFA,0DADwF,EAAO,EACzF;IACNA,4DAAA,cAA2D;IACzDA,uDAAA,aAAmC;IAEvCA,0DADE,EAAM,EACF;IAGNA,4DAAA,eAAuD;IACrDA,uDAAA,eAAoC;IACpCA,4DAAA,eAAqD;IAAnBA,wDAAA,mBAAAgH,sDAAA;MAAAhH,2DAAA,CAAA8G,GAAA;MAAA,MAAAnC,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAAsC,MAAA,EAAQ;IAAA,EAAC;IAClDjH,uDAAA,aAAmC;IACnCA,4DAAA,YAAM;IAAAA,oDAAA,0BAAa;IAGzBA,0DAHyB,EAAO,EACtB,EACF,EACF;;;;IAhBwBA,uDAAA,GAAoD;IAApDA,gEAAA,KAAA2E,MAAA,CAAAG,WAAA,CAAAqC,MAAA,OAAAxC,MAAA,CAAAG,WAAA,CAAAsC,SAAA,KAAoD;IACpDpH,uDAAA,GAA8D;IAA9DA,+DAAA,CAAA2E,MAAA,CAAAG,WAAA,CAAAwC,GAAA,+CAA8D;IAE5DtH,uDAAA,EAA8B;IAA9BA,yDAAA,YAAA2E,MAAA,CAAA4C,YAAA,CAA8B;IAMjCvH,uDAAA,GAA2B;IAA3BA,yDAAA,SAAA2E,MAAA,CAAA4C,YAAA,CAA2B;;;;;;IAUxDvH,4DAAA,iBAAoF;IAAjDA,wDAAA,mBAAAwH,2DAAA;MAAAxH,2DAAA,CAAAyH,GAAA;MAAA,MAAA9C,MAAA,GAAA3E,2DAAA;MAAA,OAAAA,yDAAA,CAAS2E,MAAA,CAAA+C,gBAAA,EAAkB;IAAA,EAAC;IAG7D1H,uDAFA,eAAoC,eACA,eACA;IACtCA,0DAAA,EAAS;;;;;;IAWPA,4DAAA,cAAyI;IAA9DA,wDAAA,mBAAA2H,2DAAA;MAAA3H,2DAAA,CAAA4H,IAAA;MAAA,MAAAjD,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAW,aAAA,EAAe;MAAA,OAAAtF,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACrH7H,uDAAA,YAA4B;IAC5BA,4DAAA,WAAM;IAAAA,oDAAA,gBAAS;IACjBA,0DADiB,EAAO,EAClB;;;;IAHwBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,eAA4C;;;;;;IAK1EzF,4DAAA,cAAoI;IAA3DA,wDAAA,mBAAA8H,2DAAA;MAAA9H,2DAAA,CAAA+H,IAAA;MAAA,MAAApD,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAiB,WAAA,EAAa;MAAA,OAAA5F,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACjH7H,uDAAA,YAA+B;IAC/BA,4DAAA,WAAM;IAAAA,oDAAA,mBAAO;IACfA,0DADe,EAAO,EAChB;;;;IAHwBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,aAA0C;;;;;;IAKxEzF,4DAAA,cAAiI;IAA1DA,wDAAA,mBAAAgI,2DAAA;MAAAhI,2DAAA,CAAAiI,IAAA;MAAA,MAAAtD,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAoB,SAAA,EAAW;MAAA,OAAA/F,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IAC7G7H,uDAAA,YAAmC;IACnCA,4DAAA,WAAM;IAAAA,oDAAA,YAAK;IACbA,0DADa,EAAO,EACd;;;;IAHwBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,WAAwC;;;;;;IAKtEzF,4DAAA,cAAiI;IAA1DA,wDAAA,mBAAAkI,2DAAA;MAAAlI,2DAAA,CAAAmI,IAAA;MAAA,MAAAxD,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAuB,SAAA,EAAW;MAAA,OAAAlG,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IAC7G7H,uDAAA,YAAgC;IAChCA,4DAAA,WAAM;IAAAA,oDAAA,YAAK;IACbA,0DADa,EAAO,EACd;;;;IAHwBA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,WAAwC;;;;;;IApBtEzF,4DAFJ,cAA2E,cACxC,cACyF;IAA7CA,wDAAA,mBAAAoI,qDAAA;MAAApI,2DAAA,CAAAqI,GAAA;MAAA,MAAA1D,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAA0B,aAAA,EAAe;MAAA,OAAArG,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACrH7H,uDAAA,YAAqC;IACrCA,4DAAA,WAAM;IAAAA,oDAAA,gBAAS;IACjBA,0DADiB,EAAO,EAClB;IAiBNA,wDAfA,IAAAsI,qCAAA,kBAAyI,IAAAC,qCAAA,kBAKL,IAAAC,qCAAA,kBAKH,IAAAC,qCAAA,kBAKA;IAKjIzI,4DAAA,eAAsH;IAA5CA,wDAAA,mBAAA0I,sDAAA;MAAA1I,2DAAA,CAAAqI,GAAA;MAAA,MAAA1D,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAgC,YAAA,EAAc;MAAA,OAAA3G,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACnH7H,uDAAA,aAAiC;IACjCA,4DAAA,YAAM;IAAAA,oDAAA,gBAAQ;IAChBA,0DADgB,EAAO,EACjB;IAENA,uDAAA,eAAuC;IAEvCA,4DAAA,eAA4E;IAA9CA,wDAAA,mBAAA2I,sDAAA;MAAA3I,2DAAA,CAAAqI,GAAA;MAAA,MAAA1D,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAiE,cAAA,EAAgB;MAAA,OAAA5I,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACzE7H,uDAAA,aAA0B;IAC1BA,4DAAA,YAAM;IAAAA,oDAAA,+BAAkB;IAC1BA,0DAD0B,EAAO,EAC3B;IAENA,4DAAA,eAA2E;IAAtCA,wDAAA,mBAAA6I,sDAAA;MAAA7I,2DAAA,CAAAqI,GAAA;MAAA,MAAA1D,MAAA,GAAA3E,2DAAA;MAAS2E,MAAA,CAAAsC,MAAA,EAAQ;MAAA,OAAAjH,yDAAA,CAAE2E,MAAA,CAAAkD,eAAA,EAAiB;IAAA,EAAC;IACxE7H,uDAAA,aAAmC;IACnCA,4DAAA,YAAM;IAAAA,oDAAA,0BAAa;IAGzBA,0DAHyB,EAAO,EACtB,EACF,EACF;;;;IA5CmBA,yDAAA,SAAA2E,MAAA,CAAAmE,cAAA,CAA6B;IAEpB9I,uDAAA,GAA4C;IAA5CA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,eAA4C;IAK+CzF,uDAAA,GAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAKlB5G,uDAAA,EAAa;IAAbA,wDAAA,SAAA2E,MAAA,CAAAiC,OAAA,CAAa;IAKjB5G,uDAAA,EAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAKd5G,uDAAA,EAAc;IAAdA,wDAAA,UAAA2E,MAAA,CAAAiC,OAAA,CAAc;IAKjG5G,uDAAA,EAA2C;IAA3CA,yDAAA,WAAA2E,MAAA,CAAAc,aAAA,cAA2C;;;AAkZ7E,MAAO9F,eAAe;EAM1BQ,YACUC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAPhB,KAAAyE,WAAW,GAAgB,IAAI;IAC/B,KAAA8B,OAAO,GAAG,KAAK;IACf,KAAAW,YAAY,GAAG,KAAK;IACpB,KAAAuB,cAAc,GAAG,KAAK;EAKnB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAAC3I,WAAW,CAAC4I,YAAY,CAACC,SAAS,CAACC,IAAI,IAAG;MAC7C,IAAI,CAACpE,WAAW,GAAGoE,IAAI;MACvB,IAAI,CAACtC,OAAO,GAAGsC,IAAI,EAAE5B,GAAG,KAAK,OAAO;IACtC,CAAC,CAAC;EACJ;EAGA6B,eAAeA,CAACxI,KAAY;IAC1B,MAAMyI,MAAM,GAAGzI,KAAK,CAACyI,MAAqB;IAC1C,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IAEvD,IAAIF,QAAQ,IAAI,CAACA,QAAQ,CAACG,QAAQ,CAACJ,MAAM,CAAC,EAAE;MAC1C,IAAI,CAACK,aAAa,EAAE;;EAExB;EAEApD,aAAaA,CAAA;IACX,IAAI,CAAChG,MAAM,CAACqJ,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEApE,aAAaA,CAAA;IACX,IAAI,CAACjF,MAAM,CAACqJ,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEA9D,WAAWA,CAAA;IACT,IAAI,CAACvF,MAAM,CAACqJ,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;EAEA3D,SAASA,CAAA;IACP,IAAI,CAAC1F,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEAxD,SAASA,CAAA;IACP,IAAI,CAAC7F,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEA/C,YAAYA,CAAA;IACV,IAAI,CAACtG,MAAM,CAACqJ,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;EAEAjE,aAAaA,CAACkE,KAAa;IACzB,OAAO,IAAI,CAACtJ,MAAM,CAACO,GAAG,KAAK+I,KAAK;EAClC;EAEA5C,cAAcA,CAAA;IACZ,IAAI,CAACQ,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;EACxC;EAEAkC,aAAaA,CAAA;IACX,IAAI,CAAClC,YAAY,GAAG,KAAK;EAC3B;EAEAG,gBAAgBA,CAAA;IACd,IAAI,CAACoB,cAAc,GAAG,CAAC,IAAI,CAACA,cAAc;EAC5C;EAEAjB,eAAeA,CAAA;IACb,IAAI,CAACiB,cAAc,GAAG,KAAK;EAC7B;EAEAF,cAAcA,CAAA;IACZ,IAAI,CAACvI,MAAM,CAACqJ,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;IAC1C,IAAI,CAACD,aAAa,EAAE;EACtB;EAEAxC,MAAMA,CAAA;IACJ,IAAI,CAAC7G,WAAW,CAAC6G,MAAM,EAAE;IACzB,IAAI,CAAC5G,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEA9E,gBAAgBA,CAAA;IAEd,IAAI,CAAC,IAAI,CAACE,WAAW,EAAE8E,WAAW,EAAE;MAClC,OAAO,EAAE;;IAGX;IACA,IAAI,IAAI,CAAC9E,WAAW,CAAC8E,WAAW,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;MACnD,OAAO,IAAI,CAAC/E,WAAW,CAAC8E,WAAW;;IAGrC;IACA,MAAME,OAAO,GAAG,GAAGvF,kEAAW,CAACwF,MAAM,YAAY,IAAI,CAACjF,WAAW,CAAC8E,WAAW,EAAE;IAC/E,OAAOE,OAAO;EAChB;;;uBAhGWnK,eAAe,EAAAK,+DAAA,CAAAkB,+DAAA,GAAAlB,+DAAA,CAAAoB,mDAAA;IAAA;EAAA;;;YAAfzB,eAAe;MAAA2B,SAAA;MAAA0I,YAAA,WAAAC,6BAAAlI,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UAAf/B,wDAAA,mBAAAkK,yCAAAC,MAAA;YAAA,OAAAnI,GAAA,CAAAmH,eAAA,CAAAgB,MAAA,CAAuB;UAAA,UAAAnK,+DAAA,CAAR;;;;;;;;;;UAngBpBA,4DAHJ,aAA2B,aACK,aAEwB;UAA1BA,wDAAA,mBAAAqK,8CAAA;YAAA,OAASrI,GAAA,CAAAqE,aAAA,EAAe;UAAA,EAAC;UASjDrG,wDAPA,IAAAsK,8BAAA,iBAAoE,IAAAC,8BAAA,iBAOV;UAKxDvK,4DADF,aAAwB,cACG;UAAAA,oDAAA,GAAgD;UAAAA,0DAAA,EAAO;UAChFA,4DAAA,cAA6B;UAAAA,oDAAA,2BAAe;UAEhDA,0DAFgD,EAAO,EAC/C,EACF;UA6DNA,wDA1DA,KAAAwK,+BAAA,kBAA0D,KAAAC,+BAAA,kBAiCb,KAAAC,kCAAA,qBAyBuC;UAKtF1K,0DAAA,EAAM;UAGNA,wDAAA,KAAA2K,+BAAA,oBAA2E;UA6C7E3K,0DAAA,EAAM;;;UAjIMA,uDAAA,GAA8B;UAA9BA,wDAAA,SAAAgC,GAAA,CAAA8C,WAAA,kBAAA9C,GAAA,CAAA8C,WAAA,CAAA8E,WAAA,CAA8B;UAO9B5J,uDAAA,EAA+B;UAA/BA,wDAAA,WAAAgC,GAAA,CAAA8C,WAAA,kBAAA9C,GAAA,CAAA8C,WAAA,CAAA8E,WAAA,EAA+B;UAKV5J,uDAAA,GAAgD;UAAhDA,+DAAA,EAAAgC,GAAA,CAAA8C,WAAA,kBAAA9C,GAAA,CAAA8C,WAAA,CAAAC,aAAA,uBAAgD;UAMtC/E,uDAAA,GAAiB;UAAjBA,wDAAA,SAAAgC,GAAA,CAAA8C,WAAA,CAAiB;UAiC9B9E,uDAAA,EAAiB;UAAjBA,wDAAA,SAAAgC,GAAA,CAAA8C,WAAA,CAAiB;UAyBsB9E,uDAAA,EAAiB;UAAjBA,wDAAA,SAAAgC,GAAA,CAAA8C,WAAA,CAAiB;UAQ5B9E,uDAAA,EAAiB;UAAjBA,wDAAA,SAAAgC,GAAA,CAAA8C,WAAA,CAAiB;;;qBA3FnEvF,yDAAY,EAAA8C,iDAAA;MAAAuI,MAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;;ACTuB;AAGX;;;;;;;IAY5B5K,4DAJF,aAGkB,aACU;IACxBA,uDAAA,WAAuD;IACvDA,4DAAA,gBAAwB;IAAAA,oDAAA,GAA+B;IAAAA,0DAAA,EAAS;IAChEA,4DAAA,YAAO;IAAAA,oDAAA,GAA6D;;IAAAA,0DAAA,EAAQ;IAC5EA,4DAAA,gBAAwE;IAAhCA,wDAAA,mBAAA8K,sDAAA;MAAA,MAAAC,QAAA,GAAA/K,2DAAA,CAAAgL,GAAA,EAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAlL,2DAAA;MAAA,OAAAA,yDAAA,CAASkL,MAAA,CAAAC,WAAA,CAAAJ,QAAA,CAAAK,EAAA,CAAqB;IAAA,EAAC;IACzEpL,0DAD0E,EAAS,EAC7E;IACNA,4DAAA,aAAwB;IACtBA,oDAAA,IACF;IACFA,0DADE,EAAM,EACF;;;;;IAXDA,wDAAA,CAAAkL,MAAA,CAAAI,eAAA,CAAAP,QAAA,CAAAQ,IAAA,EAAqC;IAGnCvL,uDAAA,GAAkC;IAAlCA,wDAAA,CAAAkL,MAAA,CAAAM,YAAA,CAAAT,QAAA,CAAAQ,IAAA,EAAkC;IACbvL,uDAAA,GAA+B;IAA/BA,+DAAA,CAAAkL,MAAA,CAAAO,aAAA,CAAAV,QAAA,CAAAQ,IAAA,EAA+B;IAChDvL,uDAAA,GAA6D;IAA7DA,+DAAA,CAAA+K,QAAA,CAAAW,SAAA,GAAA1L,yDAAA,OAAA+K,QAAA,CAAAW,SAAA,gBAA6D;IAIpE1L,uDAAA,GACF;IADEA,gEAAA,MAAA+K,QAAA,CAAAc,OAAA,MACF;;;AAkDF,MAAOnM,cAAc;EAIzBS,YAAoB2L,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IAHhC,KAAAC,MAAM,GAAY,EAAE;IACZ,KAAAC,YAAY,GAAiB,IAAInB,8CAAY,EAAE;EAEN;EAEjD9B,QAAQA,CAAA;IACN,IAAI,CAACiD,YAAY,GAAG,IAAI,CAACF,YAAY,CAACG,OAAO,CAAChD,SAAS,CAAC8C,MAAM,IAAG;MAC/D,IAAI,CAACA,MAAM,GAAGA,MAAM;IACtB,CAAC,CAAC;EACJ;EAEAG,WAAWA,CAAA;IACT,IAAI,CAACF,YAAY,CAACG,WAAW,EAAE;EACjC;EAEAhB,WAAWA,CAACC,EAAU;IACpB,IAAI,CAACU,YAAY,CAACX,WAAW,CAACC,EAAE,CAAC;EACnC;EAEAE,eAAeA,CAACC,IAAY;IAC1B,OAAO,SAASA,IAAI,EAAE;EACxB;EAEAC,YAAYA,CAACD,IAAY;IACvB,QAAQA,IAAI;MACV,KAAK,SAAS;QAAE,OAAO,qBAAqB;MAC5C,KAAK,SAAS;QAAE,OAAO,6BAA6B;MACpD,KAAK,OAAO;QAAE,OAAO,qBAAqB;MAC1C,KAAK,MAAM;QAAE,OAAO,oBAAoB;MACxC;QAAS,OAAO,aAAa;;EAEjC;EAEAE,aAAaA,CAACF,IAAY;IACxB,QAAQA,IAAI;MACV,KAAK,SAAS;QAAE,OAAO,OAAO;MAC9B,KAAK,SAAS;QAAE,OAAO,aAAa;MACpC,KAAK,OAAO;QAAE,OAAO,OAAO;MAC5B,KAAK,MAAM;QAAE,OAAO,aAAa;MACjC;QAAS,OAAO,cAAc;;EAElC;;;uBA1CW7L,cAAc,EAAAM,+DAAA,CAAAkB,iEAAA;IAAA;EAAA;;;YAAdxB,cAAc;MAAA4B,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAxB,iEAAA;MAAA0B,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAwK,wBAAAtK,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UA/DvB/B,4DAAA,aAAsF;UACpFA,wDAAA,IAAAsM,6BAAA,mBAGkB;UAWpBtM,0DAAA,EAAM;;;UAdmBA,uDAAA,EAAS;UAATA,wDAAA,YAAAgC,GAAA,CAAA+J,MAAA,CAAS;;;qBAH1BxM,yDAAY,EAAA6B,oDAAA,EAAAA,qDAAA;MAAAwJ,MAAA;IAAA;EAAA;;;;;;;;;;;;;;;;;;ACTe;AACE;AACc;AAEhD,MAAM1H,UAAU,GAAGA,CAAA,KAAK;EAC7B,MAAM9C,WAAW,GAAGqM,qDAAM,CAACtL,+DAAW,CAAC;EACvC,MAAMd,MAAM,GAAGoM,qDAAM,CAACpL,mDAAM,CAAC;EAE7B,IAAIjB,WAAW,CAACsM,eAAe,EAAE,IAAItM,WAAW,CAACwG,OAAO,EAAE,EAAE;IAC1D,OAAO,IAAI;;EAGbvG,MAAM,CAACqJ,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EAC/B,OAAO,KAAK;AACd,CAAC,C;;;;;;;;;;;;;;;;;ACdsC;AACE;AACc;AAEhD,MAAMzG,SAAS,GAAGA,CAAA,KAAK;EAC5B,MAAM7C,WAAW,GAAGqM,qDAAM,CAACtL,+DAAW,CAAC;EACvC,MAAMd,MAAM,GAAGoM,qDAAM,CAACpL,mDAAM,CAAC;EAE7B,IAAIjB,WAAW,CAACsM,eAAe,EAAE,EAAE;IACjC;IACA;IACA,IAAItM,WAAW,CAACuM,cAAc,EAAE,EAAE;MAChCtM,MAAM,CAACqJ,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;MACrC,OAAO,KAAK;;IAEd,OAAO,IAAI;;EAGbrJ,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAC3B,OAAO,KAAK;AACd,CAAC,C;;;;;;;;;;;;;;;;;ACpBsC;AACE;AACc;AAEhD,MAAMtG,mBAAmB,GAAGA,CAAA,KAAK;EACtC,MAAMhD,WAAW,GAAGqM,qDAAM,CAACtL,+DAAW,CAAC;EACvC,MAAMd,MAAM,GAAGoM,qDAAM,CAACpL,mDAAM,CAAC;EAE7B,IAAIjB,WAAW,CAACsM,eAAe,EAAE,EAAE;IACjC;IACA,IAAItM,WAAW,CAACuM,cAAc,EAAE,EAAE;MAChC,OAAO,IAAI;KACZ,MAAM;MACL;MACAtM,MAAM,CAACqJ,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;MAC/B,OAAO,KAAK;;;EAIhB;EACArJ,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAC3B,OAAO,KAAK;AACd,CAAC,C;;;;;;;;;;;;;;;;;ACtBsC;AACE;AACc;AAEhD,MAAMvG,WAAW,GAAGA,CAAA,KAAK;EAC9B,MAAM/C,WAAW,GAAGqM,qDAAM,CAACtL,+DAAW,CAAC;EACvC,MAAMd,MAAM,GAAGoM,qDAAM,CAACpL,mDAAM,CAAC;EAE7B,IAAIjB,WAAW,CAACsM,eAAe,EAAE,EAAE;IACjC;IACA,IAAI,CAACtM,WAAW,CAACwG,OAAO,EAAE,EAAE;MAC1B,OAAO,IAAI;KACZ,MAAM;MACL;MACAvG,MAAM,CAACqJ,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;MAC/B,OAAO,KAAK;;;EAIhB;EACArJ,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAC3B,OAAO,KAAK;AACd,CAAC,C;;;;;;;;;;;;;;;;;;ACrBsC;AACgB;AACT;AAEvC,MAAM5G,eAAe,GAAsBA,CAACgK,GAAG,EAAEC,IAAI,KAAI;EAC9D,MAAM3M,WAAW,GAAGqM,qDAAM,CAACtL,+DAAW,CAAC;EAEvC;EACA,MAAM6L,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,IAAIF,KAAK,EAAE;IACT;IACA,MAAMG,OAAO,GAAGL,GAAG,CAACM,KAAK,CAAC;MACxBC,UAAU,EAAE;QACVC,aAAa,EAAE,UAAUN,KAAK;;KAEjC,CAAC;IAEF,OAAOD,IAAI,CAACI,OAAO,CAAC,CAACzM,IAAI,CACvBkM,gDAAU,CAAEW,KAAwB,IAAI;MACtC;MACA,IAAIA,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE;QACxBpN,WAAW,CAACqN,kBAAkB,EAAE;;MAGlC,OAAOZ,gDAAU,CAAC,MAAMU,KAAK,CAAC;IAChC,CAAC,CAAC,CACH;;EAGH,OAAOR,IAAI,CAACD,GAAG,CAAC;AAClB,CAAC,C;;;;;;;;;;;;;;;;;;;;;AC9BoF;AAExB;;;;AAMvD,MAAO3L,WAAW;EAStBhB,YAAoByN,IAAgB,EAAUvN,MAAc;IAAxC,KAAAuN,IAAI,GAAJA,IAAI;IAAsB,KAAAvN,MAAM,GAANA,MAAM;IAR5C,KAAAwN,kBAAkB,GAAG,IAAIH,iDAAe,CAAc,IAAI,CAAC;IAC5D,KAAA1E,YAAY,GAAG,IAAI,CAAC6E,kBAAkB,CAACC,YAAY,EAAE;IACrD,KAAAvN,gBAAgB,GAAG,IAAI,CAACyI,YAAY,CAACtI,IAAI,CAC9Cb,yCAAG,CAACqJ,IAAI,IAAI,IAAI,CAACwD,eAAe,EAAE,CAAC,CACpC;IAEO,KAAA3C,MAAM,GAAGxF,kEAAW,CAACwF,MAAM;IAGjC,IAAI,CAACgE,mBAAmB,EAAE;EAC5B;EAEAC,KAAKA,CAACC,WAAyB;IAC7B,OAAO,IAAI,CAACL,IAAI,CAACM,IAAI,CAAgB,GAAG,IAAI,CAACnE,MAAM,aAAa,EAAEkE,WAAW,CAAC,CAC3EvN,IAAI,CACHiN,yCAAG,CAACQ,QAAQ,IAAG;MACb,IAAI,CAACC,cAAc,CAACD,QAAQ,CAACE,IAAI,CAACnF,IAAI,EAAEiF,QAAQ,CAACE,IAAI,CAACrB,KAAK,CAAC;IAC9D,CAAC,CAAC,CACH;EACL;EAEApE,cAAcA,CAAC0F,OAA8B;IAC3C,OAAO,IAAI,CAACV,IAAI,CAACM,IAAI,CAAC,GAAG,IAAI,CAACnE,MAAM,uBAAuB,EAAEuE,OAAO,CAAC,CAClE5N,IAAI,CACHiN,yCAAG,CAAC,MAAK;MACP;MACA,MAAM7I,WAAW,GAAG,IAAI,CAACyJ,cAAc,EAAE;MACzC,IAAIzJ,WAAW,EAAE;QACfA,WAAW,CAAC0J,aAAa,GAAG,KAAK;QACjC,IAAI,CAACJ,cAAc,CAACtJ,WAAW,EAAE,IAAI,CAAC2J,QAAQ,EAAE,IAAI,EAAE,CAAC;;IAE3D,CAAC,CAAC,CACH;EACL;EAEAxH,MAAMA,CAAA;IACJgG,YAAY,CAACyB,UAAU,CAAC,OAAO,CAAC;IAChCzB,YAAY,CAACyB,UAAU,CAAC,MAAM,CAAC;IAC/B,IAAI,CAACb,kBAAkB,CAACd,IAAI,CAAC,IAAI,CAAC;EACpC;EAEAU,kBAAkBA,CAAA;IAChBkB,OAAO,CAACC,IAAI,CAAC,0CAA0C,CAAC;IACxD,IAAI,CAAC3H,MAAM,EAAE;IACb,IAAI,CAAC5G,MAAM,CAACqJ,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEA6E,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACV,kBAAkB,CAACgB,KAAK;EACtC;EAEAJ,QAAQA,CAAA;IACN,OAAOxB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACtC;EAEAR,eAAeA,CAAA;IACb,MAAMM,KAAK,GAAG,IAAI,CAACyB,QAAQ,EAAE;IAC7B,MAAMvF,IAAI,GAAG,IAAI,CAACqF,cAAc,EAAE;IAClC,OAAO,CAAC,CAACvB,KAAK,IAAI,CAAC,CAAC9D,IAAI,IAAI,CAAC,CAACA,IAAI,CAACkC,EAAE,IAAIlC,IAAI,CAACkC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAClC,IAAI,CAAC4F,QAAQ,IAAI,CAAC,CAAC5F,IAAI,CAAC5B,GAAG;EACvF;EAEAV,OAAOA,CAAA;IACL,MAAMsC,IAAI,GAAG,IAAI,CAACqF,cAAc,EAAE;IAClC,OAAOrF,IAAI,EAAE5B,GAAG,KAAK,OAAO,IAAI,CAAC,CAAC4B,IAAI,CAACkC,EAAE,IAAIlC,IAAI,CAACkC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAClC,IAAI,CAAC4F,QAAQ;EAC7E;EAEAnC,cAAcA,CAAA;IACZ,MAAMzD,IAAI,GAAG,IAAI,CAACqF,cAAc,EAAE;IAClC;IACA;IACA,IAAIrF,IAAI,EAAE5B,GAAG,KAAK,OAAO,EAAE;MACzB,OAAO,KAAK;;IAEd;IACA;IACA,MAAMyH,aAAa,GAAG7F,IAAI,EAAEsF,aAAa,KAAK,IAAI,IAC7BtF,IAAI,EAAEsF,aAAa,KAAK,GAAG,IAC3BtF,IAAI,EAAEsF,aAAa,KAAK,CAAC;IAC9C,OAAOtF,IAAI,EAAE5B,GAAG,KAAK,SAAS,IAAIyH,aAAa;EACjD;EAEQX,cAAcA,CAAClF,IAAU,EAAE8D,KAAa;IAC9C;IACA,MAAMgC,gBAAgB,GAAS;MAC7B5D,EAAE,EAAElC,IAAI,CAACkC,EAAE,IAAI,CAAC;MAChB0D,QAAQ,EAAE5F,IAAI,CAAC4F,QAAQ,IAAI,EAAE;MAC7B3H,MAAM,EAAE+B,IAAI,CAAC/B,MAAM,IAAI,EAAE;MACzBC,SAAS,EAAE8B,IAAI,CAAC9B,SAAS,IAAI,EAAE;MAC/BE,GAAG,EAAE4B,IAAI,CAAC5B,GAAG,IAAI,SAAS;MAC1B2H,SAAS,EAAE/F,IAAI,CAAC+F,SAAS,IAAIC,SAAS;MACtC;MACA;MACAV,aAAa,EAAEtF,IAAI,CAAC5B,GAAG,KAAK,OAAO,GAAG,KAAK,GACzC4B,IAAI,CAACsF,aAAa,KAAK,IAAI,IAC3BtF,IAAI,CAACsF,aAAa,KAAK,GAAG,IAC1BtF,IAAI,CAACsF,aAAa,KAAK,CACxB;MACDzJ,aAAa,EAAEmE,IAAI,CAACnE,aAAa,IAAI,EAAE;MACvC6E,WAAW,EAAEV,IAAI,CAACU,WAAW,IAAIsF,SAAS;MAC1CC,WAAW,EAAEjG,IAAI,CAACiG,WAAW,IAAID,SAAS;MAC1CE,cAAc,EAAElG,IAAI,CAACkG,cAAc,IAAIF,SAAS;MAChDG,KAAK,EAAEnG,IAAI,CAACoG,YAAY,IAAIpG,IAAI,CAACmG,KAAK,IAAIH,SAAS,CAAC;KACrD;IAED;IACA,IAAIF,gBAAgB,CAAC5D,EAAE,GAAG,CAAC,IAAI4D,gBAAgB,CAACF,QAAQ,IAAIE,gBAAgB,CAAC1H,GAAG,EAAE;MAChF2F,YAAY,CAACsC,OAAO,CAAC,OAAO,EAAEvC,KAAK,CAAC;MACpCC,YAAY,CAACsC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACT,gBAAgB,CAAC,CAAC;MAC9D,IAAI,CAACnB,kBAAkB,CAACd,IAAI,CAACiC,gBAAgB,CAAC;KAC/C,MAAM;MACLL,OAAO,CAACpB,KAAK,CAAC,oBAAoB,EAAEyB,gBAAgB,CAAC;MACrD,IAAI,CAAC/H,MAAM,EAAE;;EAEjB;EAEOyI,iBAAiBA,CAACC,WAAiB;IACxC,MAAM3C,KAAK,GAAG,IAAI,CAACyB,QAAQ,EAAE;IAC7B,IAAIzB,KAAK,IAAI2C,WAAW,EAAE;MACxB,IAAI,CAACvB,cAAc,CAACuB,WAAW,EAAE3C,KAAK,CAAC;;EAE3C;EAEQe,mBAAmBA,CAAA;IACzB,MAAM6B,OAAO,GAAG3C,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC5C,MAAMF,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAI0C,OAAO,IAAI5C,KAAK,EAAE;MACpB,IAAI;QACF,MAAM9D,IAAI,GAAGsG,IAAI,CAACK,KAAK,CAACD,OAAO,CAAC;QAChC;QACA,IAAI1G,IAAI,IAAIA,IAAI,CAACkC,EAAE,IAAIlC,IAAI,CAACkC,EAAE,GAAG,CAAC,IAAIlC,IAAI,CAAC4F,QAAQ,IAAI5F,IAAI,CAAC5B,GAAG,EAAE;UAC/D,IAAI,CAACuG,kBAAkB,CAACd,IAAI,CAAC7D,IAAI,CAAC;SACnC,MAAM;UACLyF,OAAO,CAACC,IAAI,CAAC,2CAA2C,CAAC;UACzD,IAAI,CAAC3H,MAAM,EAAE;;OAEhB,CAAC,OAAO6I,CAAC,EAAE;QACVnB,OAAO,CAACpB,KAAK,CAAC,kCAAkC,EAAEuC,CAAC,CAAC;QACpD,IAAI,CAAC7I,MAAM,EAAE;;KAEhB,MAAM;MACL,IAAI,CAAC4G,kBAAkB,CAACd,IAAI,CAAC,IAAI,CAAC;;EAEtC;;;uBAhJW5L,WAAW,EAAAnB,sDAAA,CAAAkB,4DAAA,GAAAlB,sDAAA,CAAAoB,mDAAA;IAAA;EAAA;;;aAAXD,WAAW;MAAA8O,OAAA,EAAX9O,WAAW,CAAA+O,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA;;;;;;;;;;;;;;;;;ACPmB;;AAYjC,MAAO/D,YAAY;EAHzBjM,YAAA;IAIU,KAAAiQ,aAAa,GAAG,IAAI1C,iDAAe,CAAU,EAAE,CAAC;IACjD,KAAAzB,OAAO,GAAG,IAAI,CAACmE,aAAa,CAACtC,YAAY,EAAE;IAC1C,KAAAuC,MAAM,GAAG,CAAC;;EAElBC,WAAWA,CAACzE,OAAe,EAAE0E,QAAA,GAAmB,IAAI;IAClD,IAAI,CAACC,SAAS,CAAC3E,OAAO,EAAE,SAAS,EAAE0E,QAAQ,CAAC;EAC9C;EAEAE,WAAWA,CAAC5E,OAAe,EAAE0E,QAAA,GAAmB,IAAI;IAClD,IAAI,CAACC,SAAS,CAAC3E,OAAO,EAAE,SAAS,EAAE0E,QAAQ,CAAC;EAC9C;EAEAG,SAASA,CAAC7E,OAAe,EAAE0E,QAAA,GAAmB,IAAI;IAChD,IAAI,CAACC,SAAS,CAAC3E,OAAO,EAAE,OAAO,EAAE0E,QAAQ,CAAC;EAC5C;EAEAI,QAAQA,CAAC9E,OAAe,EAAE0E,QAAA,GAAmB,IAAI;IAC/C,IAAI,CAACC,SAAS,CAAC3E,OAAO,EAAE,MAAM,EAAE0E,QAAQ,CAAC;EAC3C;EAEAC,SAASA,CAAC3E,OAAe,EAAEN,IAAmB,EAAEgF,QAAA,GAAmB,IAAI;IACrE,MAAMK,KAAK,GAAU;MACnBxF,EAAE,EAAE,IAAI,CAACiF,MAAM,EAAE;MACjBxE,OAAO;MACPN,IAAI;MACJgF;KACD;IAED,MAAMM,aAAa,GAAG,IAAI,CAACT,aAAa,CAACvB,KAAK;IAC9C,IAAI,CAACuB,aAAa,CAACrD,IAAI,CAAC,CAAC,GAAG8D,aAAa,EAAED,KAAK,CAAC,CAAC;IAElD,IAAIL,QAAQ,GAAG,CAAC,EAAE;MAChBO,UAAU,CAAC,MAAK;QACd,IAAI,CAAC3F,WAAW,CAACyF,KAAK,CAACxF,EAAE,CAAC;MAC5B,CAAC,EAAEmF,QAAQ,CAAC;;EAEhB;EAEApF,WAAWA,CAACC,EAAU;IACpB,MAAMyF,aAAa,GAAG,IAAI,CAACT,aAAa,CAACvB,KAAK;IAC9C,MAAMkC,cAAc,GAAGF,aAAa,CAACjR,MAAM,CAACgR,KAAK,IAAIA,KAAK,CAACxF,EAAE,KAAKA,EAAE,CAAC;IACrE,IAAI,CAACgF,aAAa,CAACrD,IAAI,CAACgE,cAAc,CAAC;EACzC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACZ,aAAa,CAACrD,IAAI,CAAC,EAAE,CAAC;EAC7B;;;uBA/CWX,YAAY;IAAA;EAAA;;;aAAZA,YAAY;MAAA6D,OAAA,EAAZ7D,YAAY,CAAA8D,IAAA;MAAAC,UAAA,EAFX;IAAM;EAAA;;;;;;;;;;;;;;;ACXb,MAAM5L,WAAW,GAAG;EACzB0M,UAAU,EAAE,IAAI;EAChBlH,MAAM,EAAE,uCAAuC;EAC/CmH,KAAK,EAAE;IACLC,UAAU,EAAE,CAAC;IACbC,OAAO,EAAE,EAAE,CAAI;;CAElB;AAED;;;;;;;;;;;;;;;;;;;;;;;ACTiE;AACpB;AACM;AAEnDC,+EAAoB,CAACnR,4DAAY,EAAE6C,sDAAS,CAAC,CAC1CuO,KAAK,CAACC,GAAG,IAAI5C,OAAO,CAACpB,KAAK,CAACgE,GAAG,CAAC,CAAC,C","sources":["./src/app/app.component.ts","./src/app/app.config.ts","./src/app/app.routes.ts","./src/app/components/shared/header/header.component.ts","./src/app/components/shared/toast/toast.component.ts","./src/app/guards/admin.guard.ts","./src/app/guards/auth.guard.ts","./src/app/guards/change-password.guard.ts","./src/app/guards/optica.guard.ts","./src/app/interceptors/auth.interceptor.ts","./src/app/services/auth.service.ts","./src/app/services/toast.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterOutlet, Router, NavigationEnd, RouterState } from '@angular/router';\nimport { ToastComponent } from './components/shared/toast/toast.component';\nimport { HeaderComponent } from './components/shared/header/header.component';\nimport { AuthService } from './services/auth.service';\nimport { Observable, filter, map, startWith, combineLatest } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [CommonModule, RouterOutlet, ToastComponent, HeaderComponent],\n  template: `\n    <app-header *ngIf=\"(showHeader$ | async)\"></app-header>\n    <router-outlet></router-outlet>\n    <app-toast></app-toast>\n  `\n})\nexport class AppComponent {\n  title = 'ÓpticaCast';\n  showHeader$: Observable<boolean>;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router\n  ) {\n    const isAuthenticated$ = this.authService.isAuthenticated$;\n    \n    // Observable para detectar si estamos en la página de login\n    const isLoginPage$ = this.router.events.pipe(\n      filter((event): event is NavigationEnd => event instanceof NavigationEnd),\n      map((event: NavigationEnd) => event.url === '/login' || event.urlAfterRedirects === '/login'),\n      startWith(this.router.url === '/login')\n    );\n\n    // Combinar ambos observables para determinar si mostrar el header\n    // Solo mostrar header si está autenticado Y no está en login\n    this.showHeader$ = combineLatest([isAuthenticated$, isLoginPage$]).pipe(\n      map(([authenticated, isLogin]) => {\n        // Si no está autenticado, nunca mostrar header\n        if (!authenticated) {\n          return false;\n        }\n        // Si está autenticado pero está en login, no mostrar header\n        if (isLogin) {\n          return false;\n        }\n        // Solo mostrar header si está autenticado y no está en login\n        return true;\n      })\n    );\n  }\n}\n","import { ApplicationConfig } from '@angular/core';\r\nimport { provideRouter } from '@angular/router';\r\nimport { provideHttpClient, withInterceptors } from '@angular/common/http';\r\nimport { provideAnimations } from '@angular/platform-browser/animations';\r\n\r\nimport { routes } from './app.routes';\r\nimport { authInterceptor } from './interceptors/auth.interceptor';\r\n\r\nexport const appConfig: ApplicationConfig = {\r\n  providers: [\r\n    provideRouter(routes),\r\n    provideHttpClient(\r\n      withInterceptors([authInterceptor])\r\n    ),\r\n    provideAnimations()\r\n  ]\r\n};\r\n\r\n","import { Routes } from '@angular/router';\nimport { authGuard } from './guards/auth.guard';\nimport { adminGuard } from './guards/admin.guard';\nimport { opticaGuard } from './guards/optica.guard';\nimport { changePasswordGuard } from './guards/change-password.guard';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    redirectTo: '/login',\n    pathMatch: 'full'\n  },\n  {\n    path: 'login',\n    loadComponent: () => import('./components/auth/login/login.component').then(m => m.LoginComponent)\n  },\n  {\n    path: 'change-password',\n    loadComponent: () => import('./components/auth/change-password/change-password.component').then(m => m.ChangePasswordComponent),\n    canActivate: [changePasswordGuard]\n  },\n  {\n    path: 'dashboard',\n    loadComponent: () => import('./components/dashboard/dashboard.component').then(m => m.DashboardComponent),\n    canActivate: [authGuard]\n  },\n  {\n    path: 'opticas',\n    loadComponent: () => import('./components/admin/opticas/opticas.component').then(m => m.OpticasComponent),\n    canActivate: [adminGuard]\n  },\n  {\n    path: 'pacientes',\n    loadComponent: () => import('./components/pacientes/pacientes.component').then(m => m.PacientesComponent),\n    canActivate: [opticaGuard]\n  },\n  {\n    path: 'historias-clinicas',\n    loadComponent: () => import('./components/historias-clinicas/historias-clinicas.component').then(m => m.HistoriasClinicasComponent),\n    canActivate: [opticaGuard]\n  },\n  {\n    path: 'historias',\n    loadComponent: () => import('./components/historias/historias.component').then(m => m.HistoriasComponent),\n    canActivate: [opticaGuard]\n  },\n  {\n    path: 'citas',\n    loadComponent: () => import('./components/citas/citas.component').then(m => m.CitasComponent),\n    canActivate: [opticaGuard]\n  },\n  {\n    path: 'firma',\n    loadComponent: () => import('./components/firma/firma.component').then(m => m.FirmaComponent),\n    canActivate: [opticaGuard]\n  },\n  {\n    path: 'admin',\n    loadComponent: () => import('./components/admin/admin.component').then(m => m.AdminComponent),\n    canActivate: [adminGuard]\n  },\n  {\n    path: 'reportes',\n    loadComponent: () => import('./components/reportes/reportes.component').then(m => m.ReportesComponent),\n    canActivate: [authGuard]\n  },\n  {\n    path: '**',\n    redirectTo: '/login'\n  }\n];\n\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../../services/auth.service';\nimport { User } from '../../../models/user.model';\nimport { environment } from '../../../../environments/environment';\n\n@Component({\n  selector: 'app-header',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <nav class=\"modern-navbar\">\n      <div class=\"navbar-container\">\n        <!-- Logo/Brand -->\n        <div class=\"navbar-brand\" (click)=\"goToDashboard()\">\n          <!-- Logo personalizado de la óptica -->\n          <div *ngIf=\"currentUser?.optica_logo\" class=\"optica-logo-container\">\n            <img [src]=\"getOpticaLogoUrl()\" \n                 [alt]=\"currentUser?.optica_nombre || 'Logo de la óptica'\"\n                 class=\"optica-logo-image\">\n          </div>\n          \n          <!-- Logo por defecto del sistema -->\n          <div *ngIf=\"!currentUser?.optica_logo\" class=\"brand-icon\">\n            <i class=\"fas fa-eye\"></i>\n          </div>\n          \n          <div class=\"brand-text\">\n            <span class=\"brand-name\">{{ currentUser?.optica_nombre || 'ÓpticaCast' }}</span>\n            <span class=\"brand-subtitle\">Sistema Clínico</span>\n          </div>\n        </div>\n\n        <!-- Navigation Menu (Desktop) -->\n        <div class=\"navbar-menu desktop-menu\" *ngIf=\"currentUser\">\n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/dashboard')\" (click)=\"goToDashboard()\">\n            <i class=\"fas fa-tachometer-alt\"></i>\n            <span>Dashboard</span>\n          </div>\n          \n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/pacientes')\" (click)=\"goToPacientes()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-users\"></i>\n            <span>Pacientes</span>\n          </div>\n          \n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/opticas')\" (click)=\"goToOpticas()\" *ngIf=\"isAdmin\">\n            <i class=\"fas fa-building\"></i>\n            <span>Ópticas</span>\n          </div>\n          \n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/citas')\" (click)=\"goToCitas()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-calendar-alt\"></i>\n            <span>Citas</span>\n          </div>\n          \n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/firma')\" (click)=\"goToFirma()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-signature\"></i>\n            <span>Firma</span>\n          </div>\n          \n          <div class=\"menu-item\" [class.active]=\"isActiveRoute('/reportes')\" (click)=\"goToReportes()\">\n            <i class=\"fas fa-chart-line\"></i>\n            <span>Reportes</span>\n          </div>\n        </div>\n\n        <!-- User Menu -->\n        <div class=\"navbar-user\" *ngIf=\"currentUser\">\n          <div class=\"user-info\" (click)=\"toggleUserMenu()\">\n            <div class=\"user-avatar\">\n              <i class=\"fas fa-user-circle\"></i>\n            </div>\n            <div class=\"user-details\">\n              <span class=\"user-name\">{{ currentUser.nombre }} {{ currentUser.apellidos }}</span>\n              <span class=\"user-role\">{{ currentUser.rol === 'admin' ? 'Administrador' : 'Óptica' }}</span>\n            </div>\n            <div class=\"dropdown-arrow\" [class.rotated]=\"showUserMenu\">\n              <i class=\"fas fa-chevron-down\"></i>\n            </div>\n          </div>\n          \n          <!-- Dropdown Menu -->\n          <div class=\"user-dropdown\" [class.show]=\"showUserMenu\">\n            <div class=\"dropdown-divider\"></div>\n            <div class=\"dropdown-item logout\" (click)=\"logout()\">\n              <i class=\"fas fa-sign-out-alt\"></i>\n              <span>Cerrar Sesión</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Mobile Menu Toggle -->\n        <button class=\"mobile-menu-toggle\" (click)=\"toggleMobileMenu()\" *ngIf=\"currentUser\">\n          <span class=\"hamburger-line\"></span>\n          <span class=\"hamburger-line\"></span>\n          <span class=\"hamburger-line\"></span>\n        </button>\n      </div>\n\n      <!-- Mobile Menu -->\n      <div class=\"mobile-menu\" [class.show]=\"showMobileMenu\" *ngIf=\"currentUser\">\n        <div class=\"mobile-menu-content\">\n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/dashboard')\" (click)=\"goToDashboard(); closeMobileMenu()\">\n            <i class=\"fas fa-tachometer-alt\"></i>\n            <span>Dashboard</span>\n          </div>\n          \n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/pacientes')\" (click)=\"goToPacientes(); closeMobileMenu()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-users\"></i>\n            <span>Pacientes</span>\n          </div>\n          \n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/opticas')\" (click)=\"goToOpticas(); closeMobileMenu()\" *ngIf=\"isAdmin\">\n            <i class=\"fas fa-building\"></i>\n            <span>Ópticas</span>\n          </div>\n          \n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/citas')\" (click)=\"goToCitas(); closeMobileMenu()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-calendar-alt\"></i>\n            <span>Citas</span>\n          </div>\n          \n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/firma')\" (click)=\"goToFirma(); closeMobileMenu()\" *ngIf=\"!isAdmin\">\n            <i class=\"fas fa-signature\"></i>\n            <span>Firma</span>\n          </div>\n          \n          <div class=\"mobile-menu-item\" [class.active]=\"isActiveRoute('/reportes')\" (click)=\"goToReportes(); closeMobileMenu()\">\n            <i class=\"fas fa-chart-line\"></i>\n            <span>Reportes</span>\n          </div>\n          \n          <div class=\"mobile-menu-divider\"></div>\n          \n          <div class=\"mobile-menu-item\" (click)=\"changePassword(); closeMobileMenu()\">\n            <i class=\"fas fa-key\"></i>\n            <span>Cambiar Contraseña</span>\n          </div>\n          \n          <div class=\"mobile-menu-item logout\" (click)=\"logout(); closeMobileMenu()\">\n            <i class=\"fas fa-sign-out-alt\"></i>\n            <span>Cerrar Sesión</span>\n          </div>\n        </div>\n      </div>\n    </nav>\n  `,\n  styles: [`\n     .modern-navbar {\n       position: fixed;\n       top: 0;\n       left: 0;\n       right: 0;\n       z-index: 1000;\n       background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);\n       backdrop-filter: blur(10px);\n       box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n       border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n     }\n\n    .navbar-container {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0 2rem;\n      height: 70px;\n      margin: 0 auto;\n    }\n\n    /* Brand Styles */\n    .navbar-brand {\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n      transition: transform 0.3s ease;\n    }\n\n    .navbar-brand:hover {\n      transform: scale(1.05);\n    }\n\n    .brand-icon {\n      width: 45px;\n      height: 45px;\n      background: rgba(255, 255, 255, 0.2);\n      border-radius: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-right: 12px;\n      backdrop-filter: blur(10px);\n    }\n\n    .brand-icon i {\n      font-size: 1.5rem;\n      color: white;\n    }\n\n    .optica-logo-container {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 80px;\n      width: 180px;\n      margin-right: 16px;\n      background: transparent;\n      border-radius: 8px;\n    }\n\n    .optica-logo-image {\n      max-width: 100%;\n      max-height: 100%;\n      width: auto;\n      height: auto;\n      object-fit: contain;\n      border-radius: 4px;\n    }\n\n    .brand-text {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .brand-name {\n      font-size: 1.4rem;\n      font-weight: 700;\n      color: white;\n      line-height: 1;\n      letter-spacing: -0.5px;\n    }\n\n    .brand-subtitle {\n      font-size: 0.75rem;\n      color: rgba(255, 255, 255, 0.8);\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n    }\n\n    /* Desktop Menu */\n    .desktop-menu {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .menu-item {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 12px 20px;\n      border-radius: 25px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      color: rgba(255, 255, 255, 0.9);\n      font-weight: 500;\n      position: relative;\n    }\n\n    .menu-item:hover {\n      background: rgba(255, 255, 255, 0.15);\n      color: white;\n      transform: translateY(-2px);\n    }\n\n    .menu-item.active {\n      background: rgba(255, 255, 255, 0.2);\n      color: white;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    }\n\n    .menu-item i {\n      font-size: 1rem;\n    }\n\n    /* User Menu */\n    .navbar-user {\n      position: relative;\n    }\n\n    .user-info {\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      padding: 8px 16px;\n      border-radius: 25px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      background: rgba(255, 255, 255, 0.1);\n    }\n\n    .user-info:hover {\n      background: rgba(255, 255, 255, 0.2);\n    }\n\n    .user-avatar i {\n      font-size: 2rem;\n      color: white;\n    }\n\n    .user-details {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .user-name {\n      font-weight: 600;\n      color: white;\n      font-size: 0.9rem;\n    }\n\n    .user-role {\n      font-size: 0.75rem;\n      color: rgba(255, 255, 255, 0.7);\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n\n    .dropdown-arrow {\n      transition: transform 0.3s ease;\n    }\n\n    .dropdown-arrow.rotated {\n      transform: rotate(180deg);\n    }\n\n    .dropdown-arrow i {\n      color: rgba(255, 255, 255, 0.8);\n      font-size: 0.8rem;\n    }\n\n    /* Dropdown Menu */\n    .user-dropdown {\n      position: absolute;\n      top: 100%;\n      right: 0;\n      background: white;\n      border-radius: 12px;\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);\n      padding: 8px 0;\n      min-width: 200px;\n      opacity: 0;\n      visibility: hidden;\n      transform: translateY(-10px);\n      transition: all 0.3s ease;\n      z-index: 1001;\n    }\n\n    .user-dropdown.show {\n      opacity: 1;\n      visibility: visible;\n      transform: translateY(0);\n    }\n\n     .dropdown-item {\n       display: flex;\n       align-items: center;\n       gap: 12px;\n       padding: 12px 20px;\n       cursor: pointer;\n       transition: background-color 0.2s ease;\n       color: var(--dark-color);\n     }\n\n     .dropdown-item:hover {\n       background: var(--light-color);\n     }\n\n     .dropdown-item.logout {\n       color: var(--error-color);\n     }\n\n     .dropdown-item.logout:hover {\n       background: rgba(220, 53, 69, 0.1);\n     }\n\n     .dropdown-divider {\n       height: 1px;\n       background: var(--secondary-color);\n       margin: 8px 0;\n       opacity: 0.3;\n     }\n\n    /* Mobile Menu Toggle */\n    .mobile-menu-toggle {\n      display: none;\n      flex-direction: column;\n      gap: 4px;\n      background: none;\n      border: none;\n      cursor: pointer;\n      padding: 8px;\n    }\n\n    .hamburger-line {\n      width: 25px;\n      height: 3px;\n      background: white;\n      border-radius: 2px;\n      transition: all 0.3s ease;\n    }\n\n    /* Mobile Menu */\n    .mobile-menu {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      right: 0;\n      background: white;\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);\n      transform: translateY(-100%);\n      opacity: 0;\n      visibility: hidden;\n      transition: all 0.3s ease;\n    }\n\n    .mobile-menu.show {\n      transform: translateY(0);\n      opacity: 1;\n      visibility: visible;\n    }\n\n    .mobile-menu-content {\n      padding: 20px 0;\n    }\n\n     .mobile-menu-item {\n       display: flex;\n       align-items: center;\n       gap: 15px;\n       padding: 15px 2rem;\n       cursor: pointer;\n       transition: background-color 0.2s ease;\n       color: var(--dark-color);\n     }\n\n     .mobile-menu-item:hover {\n       background: var(--light-color);\n     }\n\n     .mobile-menu-item.active {\n       background: rgba(0, 123, 255, 0.1);\n       color: var(--primary-color);\n       border-right: 4px solid var(--primary-color);\n     }\n\n     .mobile-menu-item.logout {\n       color: var(--error-color);\n     }\n\n     .mobile-menu-item.logout:hover {\n       background: rgba(220, 53, 69, 0.1);\n     }\n\n     .mobile-menu-divider {\n       height: 1px;\n       background: var(--secondary-color);\n       margin: 15px 2rem;\n       opacity: 0.3;\n     }\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .navbar-container {\n        padding: 0 1rem;\n        height: 60px;\n      }\n\n      .desktop-menu {\n        display: none;\n      }\n\n      .mobile-menu-toggle {\n        display: flex;\n      }\n\n      .brand-name {\n        font-size: 1.2rem;\n      }\n\n      .brand-subtitle {\n        display: none;\n      }\n\n      .user-details {\n        display: none;\n      }\n\n      .user-info {\n        padding: 8px;\n      }\n    }\n\n    @media (max-width: 480px) {\n      .navbar-container {\n        padding: 0 0.75rem;\n      }\n\n      .brand-icon {\n        width: 35px;\n        height: 35px;\n        margin-right: 8px;\n      }\n\n      .brand-icon i {\n        font-size: 1.2rem;\n      }\n\n      .brand-name {\n        font-size: 1.1rem;\n      }\n    }\n\n    /* Body padding to account for fixed header */\n    :host {\n      display: block;\n    }\n\n    :host-context(body) {\n      padding-top: 70px;\n    }\n\n    @media (max-width: 768px) {\n      :host-context(body) {\n        padding-top: 60px;\n      }\n    }\n  `]\n})\nexport class HeaderComponent implements OnInit {\n  currentUser: User | null = null;\n  isAdmin = false;\n  showUserMenu = false;\n  showMobileMenu = false;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n      this.isAdmin = user?.rol === 'admin';\n    });\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick(event: Event): void {\n    const target = event.target as HTMLElement;\n    const userMenu = document.querySelector('.navbar-user');\n    \n    if (userMenu && !userMenu.contains(target)) {\n      this.closeUserMenu();\n    }\n  }\n\n  goToDashboard(): void {\n    this.router.navigate(['/dashboard']);\n  }\n\n  goToPacientes(): void {\n    this.router.navigate(['/pacientes']);\n  }\n\n  goToOpticas(): void {\n    this.router.navigate(['/opticas']);\n  }\n\n  goToCitas(): void {\n    this.router.navigate(['/citas']);\n  }\n\n  goToFirma(): void {\n    this.router.navigate(['/firma']);\n  }\n\n  goToReportes(): void {\n    this.router.navigate(['/reportes']);\n  }\n\n  isActiveRoute(route: string): boolean {\n    return this.router.url === route;\n  }\n\n  toggleUserMenu(): void {\n    this.showUserMenu = !this.showUserMenu;\n  }\n\n  closeUserMenu(): void {\n    this.showUserMenu = false;\n  }\n\n  toggleMobileMenu(): void {\n    this.showMobileMenu = !this.showMobileMenu;\n  }\n\n  closeMobileMenu(): void {\n    this.showMobileMenu = false;\n  }\n\n  changePassword(): void {\n    this.router.navigate(['/change-password']);\n    this.closeUserMenu();\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n\n  getOpticaLogoUrl(): string {\n    \n    if (!this.currentUser?.optica_logo) {\n      return '';\n    }\n    \n    // Si es una URL completa, devolverla tal como está\n    if (this.currentUser.optica_logo.startsWith('http')) {\n      return this.currentUser.optica_logo;\n    }\n    \n    // Si es una ruta relativa, construir la URL completa\n    const fullUrl = `${environment.apiUrl}/uploads/${this.currentUser.optica_logo}`;\n    return fullUrl;\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ToastService } from '../../../services/toast.service';\nimport { Toast } from '../../../models/toast.model';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-toast',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"toast-container position-fixed bottom-0 end-0 p-3\" style=\"z-index: 1055;\">\n      <div *ngFor=\"let toast of toasts\" \n           class=\"toast show\" \n           [class]=\"getToastClasses(toast.type)\"\n           role=\"alert\">\n        <div class=\"toast-header\">\n          <i [class]=\"getToastIcon(toast.type)\" class=\"me-2\"></i>\n          <strong class=\"me-auto\">{{ getToastTitle(toast.type) }}</strong>\n          <small>{{ toast.timestamp ? (toast.timestamp | date:'HH:mm') : '' }}</small>\n          <button type=\"button\" class=\"btn-close\" (click)=\"removeToast(toast.id)\"></button>\n        </div>\n        <div class=\"toast-body\">\n          {{ toast.message }}\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .toast-container {\n      max-width: 400px;\n    }\n    \n    .toast {\n      margin-bottom: 0.5rem;\n      border: none;\n      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);\n    }\n    \n    .toast-success {\n      background-color: var(--success-color);\n      color: white;\n    }\n    \n    .toast-warning {\n      background-color: var(--warning-color);\n      color: white;\n    }\n    \n    .toast-error {\n      background-color: var(--error-color);\n      color: white;\n    }\n    \n    .toast-info {\n      background-color: var(--info-color);\n      color: white;\n    }\n    \n    .toast-header {\n      background-color: rgba(255, 255, 255, 0.1);\n      border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n      color: white;\n    }\n    \n    .toast-header .btn-close {\n      filter: invert(1);\n    }\n    \n    .toast-body {\n      padding: 0.75rem 1rem;\n    }\n  `]\n})\nexport class ToastComponent implements OnInit, OnDestroy {\n  toasts: Toast[] = [];\n  private subscription: Subscription = new Subscription();\n\n  constructor(private toastService: ToastService) {}\n\n  ngOnInit(): void {\n    this.subscription = this.toastService.toasts$.subscribe(toasts => {\n      this.toasts = toasts;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  removeToast(id: number): void {\n    this.toastService.removeToast(id);\n  }\n\n  getToastClasses(type: string): string {\n    return `toast-${type}`;\n  }\n\n  getToastIcon(type: string): string {\n    switch (type) {\n      case 'success': return 'fas fa-check-circle';\n      case 'warning': return 'fas fa-exclamation-triangle';\n      case 'error': return 'fas fa-times-circle';\n      case 'info': return 'fas fa-info-circle';\n      default: return 'fas fa-bell';\n    }\n  }\n\n  getToastTitle(type: string): string {\n    switch (type) {\n      case 'success': return 'Éxito';\n      case 'warning': return 'Advertencia';\n      case 'error': return 'Error';\n      case 'info': return 'Información';\n      default: return 'Notificación';\n    }\n  }\n}\n\n","import { inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\nexport const adminGuard = () => {\r\n  const authService = inject(AuthService);\r\n  const router = inject(Router);\r\n\r\n  if (authService.isAuthenticated() && authService.isAdmin()) {\r\n    return true;\r\n  }\r\n\r\n  router.navigate(['/dashboard']);\r\n  return false;\r\n};\r\n\r\n\r\n\r\n","import { inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\nexport const authGuard = () => {\r\n  const authService = inject(AuthService);\r\n  const router = inject(Router);\r\n\r\n  if (authService.isAuthenticated()) {\r\n    // Solo usuarios de óptica (rol = 'optica') deben cambiar contraseña en primer acceso\r\n    // El administrador (rol = 'admin') puede acceder directamente\r\n    if (authService.isPrimerAcceso()) {\r\n      router.navigate(['/change-password']);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  router.navigate(['/login']);\r\n  return false;\r\n};\r\n\r\n","import { inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\nexport const changePasswordGuard = () => {\r\n  const authService = inject(AuthService);\r\n  const router = inject(Router);\r\n\r\n  if (authService.isAuthenticated()) {\r\n    // Solo permitir acceso si es primer acceso\r\n    if (authService.isPrimerAcceso()) {\r\n      return true;\r\n    } else {\r\n      // Si no es primer acceso, redirigir al dashboard\r\n      router.navigate(['/dashboard']);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Si no está autenticado, redirigir al login\r\n  router.navigate(['/login']);\r\n  return false;\r\n};\r\n","import { inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\nexport const opticaGuard = () => {\r\n  const authService = inject(AuthService);\r\n  const router = inject(Router);\r\n\r\n  if (authService.isAuthenticated()) {\r\n    // Solo usuarios de óptica (rol = 'usuario') pueden acceder\r\n    if (!authService.isAdmin()) {\r\n      return true;\r\n    } else {\r\n      // Si es administrador, redirigir al dashboard\r\n      router.navigate(['/dashboard']);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Si no está autenticado, redirigir al login\r\n  router.navigate(['/login']);\r\n  return false;\r\n};\r\n","import { HttpInterceptorFn, HttpErrorResponse } from '@angular/common/http';\nimport { inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { catchError, throwError } from 'rxjs';\n\nexport const authInterceptor: HttpInterceptorFn = (req, next) => {\n  const authService = inject(AuthService);\n  \n  // Obtener el token del localStorage\n  const token = localStorage.getItem('token');\n  \n  if (token) {\n    // Clonar la request y agregar el header Authorization\n    const authReq = req.clone({\n      setHeaders: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    \n    return next(authReq).pipe(\n      catchError((error: HttpErrorResponse) => {\n        // Si el error es 401 (Unauthorized), el token está vencido\n        if (error.status === 401) {\n          authService.handleTokenExpired();\n        }\n        \n        return throwError(() => error);\n      })\n    );\n  }\n  \n  return next(req);\n};\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { BehaviorSubject, Observable, tap, map, catchError, throwError } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport { User, LoginRequest, LoginResponse, ChangePasswordRequest } from '../models/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private currentUserSubject = new BehaviorSubject<User | null>(null);\n  public currentUser$ = this.currentUserSubject.asObservable();\n  public isAuthenticated$ = this.currentUser$.pipe(\n    map(user => this.isAuthenticated())\n  );\n  \n  private apiUrl = environment.apiUrl;\n\n  constructor(private http: HttpClient, private router: Router) {\n    this.loadUserFromStorage();\n  }\n\n  login(credentials: LoginRequest): Observable<LoginResponse> {\n    return this.http.post<LoginResponse>(`${this.apiUrl}/auth/login`, credentials)\n      .pipe(\n        tap(response => {\n          this.setCurrentUser(response.data.user, response.data.token);\n        })\n      );\n  }\n\n  changePassword(request: ChangePasswordRequest): Observable<any> {\n    return this.http.post(`${this.apiUrl}/auth/change-password`, request)\n      .pipe(\n        tap(() => {\n          // Actualizar el estado del usuario para marcar que ya no es primer acceso\n          const currentUser = this.getCurrentUser();\n          if (currentUser) {\n            currentUser.primer_acceso = false;\n            this.setCurrentUser(currentUser, this.getToken() || '');\n          }\n        })\n      );\n  }\n\n  logout(): void {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    this.currentUserSubject.next(null);\n  }\n\n  handleTokenExpired(): void {\n    console.warn('Token expirado, redirigiendo al login...');\n    this.logout();\n    this.router.navigate(['/login']);\n  }\n\n  getCurrentUser(): User | null {\n    return this.currentUserSubject.value;\n  }\n\n  getToken(): string | null {\n    return localStorage.getItem('token');\n  }\n\n  isAuthenticated(): boolean {\n    const token = this.getToken();\n    const user = this.getCurrentUser();\n    return !!token && !!user && !!user.id && user.id > 0 && !!user.username && !!user.rol;\n  }\n\n  isAdmin(): boolean {\n    const user = this.getCurrentUser();\n    return user?.rol === 'admin' && !!user.id && user.id > 0 && !!user.username;\n  }\n\n  isPrimerAcceso(): boolean {\n    const user = this.getCurrentUser();\n    // Solo usuarios de óptica (rol = 'usuario') pueden tener primer acceso obligatorio\n    // El administrador (rol = 'admin') nunca debe tener cambio de contraseña obligatorio\n    if (user?.rol === 'admin') {\n      return false;\n    }\n    // Para usuarios de óptica, verificar si es primer acceso\n    // Manejar diferentes tipos de datos que pueden venir del backend\n    const isFirstAccess = user?.primer_acceso === true || \n                         user?.primer_acceso === '1' || \n                         user?.primer_acceso === 1;\n    return user?.rol === 'usuario' && isFirstAccess;\n  }\n\n  private setCurrentUser(user: User, token: string): void {\n    // Asegurar que el usuario tenga todas las propiedades necesarias\n    const userWithDefaults: User = {\n      id: user.id || 0,\n      username: user.username || '',\n      nombre: user.nombre || '',\n      apellidos: user.apellidos || '',\n      rol: user.rol || 'usuario',\n      optica_id: user.optica_id || undefined,\n      // El administrador nunca debe tener primer acceso obligatorio\n      // Para ópticas, respetar el valor del backend (manejar diferentes tipos)\n      primer_acceso: user.rol === 'admin' ? false : (\n        user.primer_acceso === true || \n        user.primer_acceso === '1' || \n        user.primer_acceso === 1\n      ),\n      optica_nombre: user.optica_nombre || '',\n      optica_logo: user.optica_logo || undefined, // Agregar optica_logo\n      user_nombre: user.user_nombre || undefined, // Nombre del administrador principal\n      user_apellidos: user.user_apellidos || undefined, // Apellidos del administrador principal\n      firma: user.optica_firma || user.firma || undefined // Firma de la óptica\n    };\n    \n    // Solo establecer si tenemos datos válidos\n    if (userWithDefaults.id > 0 && userWithDefaults.username && userWithDefaults.rol) {\n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(userWithDefaults));\n      this.currentUserSubject.next(userWithDefaults);\n    } else {\n      console.error('Invalid user data:', userWithDefaults);\n      this.logout();\n    }\n  }\n\n  public updateCurrentUser(updatedUser: User): void {\n    const token = this.getToken();\n    if (token && updatedUser) {\n      this.setCurrentUser(updatedUser, token);\n    }\n  }\n\n  private loadUserFromStorage(): void {\n    const userStr = localStorage.getItem('user');\n    const token = localStorage.getItem('token');\n    \n    if (userStr && token) {\n      try {\n        const user = JSON.parse(userStr);\n        // Verificar que el usuario tenga las propiedades mínimas necesarias\n        if (user && user.id && user.id > 0 && user.username && user.rol) {\n          this.currentUserSubject.next(user);\n        } else {\n          console.warn('Invalid user data in storage, clearing...');\n          this.logout();\n        }\n      } catch (e) {\n        console.error('Error parsing user from storage:', e);\n        this.logout();\n      }\n    } else {\n      this.currentUserSubject.next(null);\n    }\n  }\n}\n\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nexport interface Toast {\n  id: number;\n  message: string;\n  type: 'success' | 'warning' | 'error' | 'info';\n  duration?: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastService {\n  private toastsSubject = new BehaviorSubject<Toast[]>([]);\n  public toasts$ = this.toastsSubject.asObservable();\n  private nextId = 1;\n\n  showSuccess(message: string, duration: number = 5000): void {\n    this.showToast(message, 'success', duration);\n  }\n\n  showWarning(message: string, duration: number = 5000): void {\n    this.showToast(message, 'warning', duration);\n  }\n\n  showError(message: string, duration: number = 7000): void {\n    this.showToast(message, 'error', duration);\n  }\n\n  showInfo(message: string, duration: number = 5000): void {\n    this.showToast(message, 'info', duration);\n  }\n\n  showToast(message: string, type: Toast['type'], duration: number = 5000): void {\n    const toast: Toast = {\n      id: this.nextId++,\n      message,\n      type,\n      duration\n    };\n\n    const currentToasts = this.toastsSubject.value;\n    this.toastsSubject.next([...currentToasts, toast]);\n\n    if (duration > 0) {\n      setTimeout(() => {\n        this.removeToast(toast.id);\n      }, duration);\n    }\n  }\n\n  removeToast(id: number): void {\n    const currentToasts = this.toastsSubject.value;\n    const filteredToasts = currentToasts.filter(toast => toast.id !== id);\n    this.toastsSubject.next(filteredToasts);\n  }\n\n  clearAll(): void {\n    this.toastsSubject.next([]);\n  }\n}\n\n","export const environment = {\n  production: true,\n  apiUrl: 'https://optohistorias.com/backend/api',\n  citas: {\n    horaInicio: 6, // 6:00 AM\n    horaFin: 20    // 8:00 PM (20:00)\n  }\n};\n\n/*\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost/opticast/backend/api',\n  citas: {\n    horaInicio: 6, // 6:00 AM\n    horaFin: 20    // 8:00 PM (20:00)\n  }\n};\n*/\n\n\n\n","import { bootstrapApplication } from '@angular/platform-browser';\r\nimport { appConfig } from './app/app.config';\r\nimport { AppComponent } from './app/app.component';\r\n\r\nbootstrapApplication(AppComponent, appConfig)\r\n  .catch(err => console.error(err));\r\n\r\n\r\n\r\n"],"names":["CommonModule","RouterOutlet","NavigationEnd","ToastComponent","HeaderComponent","filter","map","startWith","combineLatest","i0","ɵɵelement","AppComponent","constructor","authService","router","title","isAuthenticated$","isLoginPage$","events","pipe","event","url","urlAfterRedirects","showHeader$","authenticated","isLogin","ɵɵdirectiveInject","i1","AuthService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_app_header_0_Template","ɵɵproperty","ɵɵpipeBind1","i3","NgIf","AsyncPipe","encapsulation","provideRouter","provideHttpClient","withInterceptors","provideAnimations","routes","authInterceptor","appConfig","providers","authGuard","adminGuard","opticaGuard","changePasswordGuard","path","redirectTo","pathMatch","loadComponent","then","m","LoginComponent","ChangePasswordComponent","canActivate","DashboardComponent","OpticasComponent","PacientesComponent","HistoriasClinicasComponent","HistoriasComponent","CitasComponent","FirmaComponent","AdminComponent","ReportesComponent","environment","ɵɵelementStart","ɵɵelementEnd","ɵɵadvance","ctx_r0","getOpticaLogoUrl","ɵɵsanitizeUrl","currentUser","optica_nombre","ɵɵlistener","HeaderComponent_div_10_div_5_Template_div_click_0_listener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","goToPacientes","ɵɵtext","ɵɵclassProp","isActiveRoute","HeaderComponent_div_10_div_6_Template_div_click_0_listener","_r4","goToOpticas","HeaderComponent_div_10_div_7_Template_div_click_0_listener","_r5","goToCitas","HeaderComponent_div_10_div_8_Template_div_click_0_listener","_r6","goToFirma","HeaderComponent_div_10_Template_div_click_1_listener","_r2","goToDashboard","HeaderComponent_div_10_div_5_Template","HeaderComponent_div_10_div_6_Template","HeaderComponent_div_10_div_7_Template","HeaderComponent_div_10_div_8_Template","HeaderComponent_div_10_Template_div_click_9_listener","goToReportes","isAdmin","HeaderComponent_div_11_Template_div_click_1_listener","_r7","toggleUserMenu","HeaderComponent_div_11_Template_div_click_13_listener","logout","ɵɵtextInterpolate2","nombre","apellidos","ɵɵtextInterpolate","rol","showUserMenu","HeaderComponent_button_12_Template_button_click_0_listener","_r8","toggleMobileMenu","HeaderComponent_div_13_div_6_Template_div_click_0_listener","_r10","closeMobileMenu","HeaderComponent_div_13_div_7_Template_div_click_0_listener","_r11","HeaderComponent_div_13_div_8_Template_div_click_0_listener","_r12","HeaderComponent_div_13_div_9_Template_div_click_0_listener","_r13","HeaderComponent_div_13_Template_div_click_2_listener","_r9","HeaderComponent_div_13_div_6_Template","HeaderComponent_div_13_div_7_Template","HeaderComponent_div_13_div_8_Template","HeaderComponent_div_13_div_9_Template","HeaderComponent_div_13_Template_div_click_10_listener","HeaderComponent_div_13_Template_div_click_15_listener","changePassword","HeaderComponent_div_13_Template_div_click_19_listener","showMobileMenu","ngOnInit","currentUser$","subscribe","user","onDocumentClick","target","userMenu","document","querySelector","contains","closeUserMenu","navigate","route","optica_logo","startsWith","fullUrl","apiUrl","hostBindings","HeaderComponent_HostBindings","HeaderComponent_click_HostBindingHandler","$event","ɵɵresolveDocument","HeaderComponent_Template_div_click_2_listener","HeaderComponent_div_3_Template","HeaderComponent_div_4_Template","HeaderComponent_div_10_Template","HeaderComponent_div_11_Template","HeaderComponent_button_12_Template","HeaderComponent_div_13_Template","styles","Subscription","ToastComponent_div_1_Template_button_click_8_listener","toast_r2","_r1","$implicit","ctx_r2","removeToast","id","ɵɵclassMap","getToastClasses","type","getToastIcon","getToastTitle","timestamp","ɵɵpipeBind2","ɵɵtextInterpolate1","message","toastService","toasts","subscription","toasts$","ngOnDestroy","unsubscribe","ToastService","ToastComponent_Template","ToastComponent_div_1_Template","NgForOf","DatePipe","inject","isAuthenticated","isPrimerAcceso","catchError","throwError","req","next","token","localStorage","getItem","authReq","clone","setHeaders","Authorization","error","status","handleTokenExpired","BehaviorSubject","tap","http","currentUserSubject","asObservable","loadUserFromStorage","login","credentials","post","response","setCurrentUser","data","request","getCurrentUser","primer_acceso","getToken","removeItem","console","warn","value","username","isFirstAccess","userWithDefaults","optica_id","undefined","user_nombre","user_apellidos","firma","optica_firma","setItem","JSON","stringify","updateCurrentUser","updatedUser","userStr","parse","e","ɵɵinject","HttpClient","factory","ɵfac","providedIn","toastsSubject","nextId","showSuccess","duration","showToast","showWarning","showError","showInfo","toast","currentToasts","setTimeout","filteredToasts","clearAll","production","citas","horaInicio","horaFin","bootstrapApplication","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}