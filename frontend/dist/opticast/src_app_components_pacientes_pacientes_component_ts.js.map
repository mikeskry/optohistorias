{"version":3,"file":"src_app_components_pacientes_pacientes_component_ts.js","mappings":";;;;;;;;;;;;;;;;;;;AAC+C;AAC6E;;;;;;;;;;ICoEtGG,uDAAA,YAAiC;IACjCA,oDAAA,GACF;;;;IADEA,uDAAA,EACF;IADEA,gEAAA,MAAAK,WAAA,CAAAC,QAAA,MACF;;;;;IACEN,4DAAA,eAAyB;IAAAA,oDAAA,wBAAY;IAAAA,0DAAA,EAAO;;;;;;IAdlDA,4DAAA,cAAmE;IAAzCA,wDAAA,mBAAAU,uEAAA;MAAA,MAAAL,WAAA,GAAAL,2DAAA,CAAAY,GAAA,EAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAd,2DAAA;MAAA,OAAAA,yDAAA,CAASc,MAAA,CAAAG,oBAAA,CAAAZ,WAAA,CAA8B;IAAA,EAAC;IAChEL,4DAAA,cAAsC;IACpCA,uDAAA,YAAmC;IACnCA,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAuC;IACrCA,uDAAA,YAAgC;IAChCA,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAuC;IAInCA,wDAHF,IAAAmB,+DAAA,OAAyB,IAAAC,+DAAA,OAGhB;IAGXpB,0DAAA,EAAM;IAEJA,4DADF,eAAyC,kBACwE;IAA3DA,wDAAA,mBAAAqB,2EAAAC,MAAA;MAAA,MAAAjB,WAAA,GAAAL,2DAAA,CAAAY,GAAA,EAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAd,2DAAA;MAASc,MAAA,CAAAS,YAAA,CAAAlB,WAAA,CAAsB;MAAA,OAAAL,yDAAA,CAAEsB,MAAA,CAAAE,eAAA,EAAwB;IAAA,EAAC;IAC5GxB,uDAAA,aAA2B;IAC7BA,0DAAA,EAAS;IACTA,4DAAA,kBAA+G;IAAnEA,wDAAA,mBAAAyB,2EAAAH,MAAA;MAAA,MAAAjB,WAAA,GAAAL,2DAAA,CAAAY,GAAA,EAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAd,2DAAA;MAASc,MAAA,CAAAG,oBAAA,CAAAZ,WAAA,CAA8B;MAAA,OAAAL,yDAAA,CAAEsB,MAAA,CAAAE,eAAA,EAAwB;IAAA,EAAC;IAC5GxB,uDAAA,aAAmC;IAGzCA,0DAFI,EAAS,EACL,EACF;;;;IAtBFA,uDAAA,GACF;IADEA,gEAAA,MAAAK,WAAA,CAAAqB,SAAA,MACF;IAGE1B,uDAAA,GACF;IADEA,gEAAA,MAAAK,WAAA,CAAAuB,MAAA,OAAAvB,WAAA,CAAAwB,SAAA,MACF;IAEE7B,uDAAA,GAKC;IALDA,2DAAA,IAAAK,WAAA,CAAAC,QAAA,SAKC;;;;;IAvBLN,4DAHJ,cAAqD,cAErB,cACD;IAAAA,oDAAA,gBAAS;IAAAA,0DAAA,EAAM;IAC1CA,4DAAA,cAA2B;IAAAA,oDAAA,sBAAe;IAAAA,0DAAA,EAAM;IAChDA,4DAAA,cAA2B;IAAAA,oDAAA,eAAQ;IAAAA,0DAAA,EAAM;IACzCA,4DAAA,cAA2B;IAAAA,oDAAA,eAAQ;IACrCA,0DADqC,EAAM,EACrC;IAGNA,8DAAA,KAAAgC,iDAAA,oBAAAC,UAAA,CA2BC;IACHjC,0DAAA,EAAM;;;;IA5BJA,uDAAA,IA2BC;IA3BDA,wDAAA,CAAAc,MAAA,CAAAqB,SAAA,CA2BC;;;;;;IAIHnC,4DAAA,cAAyB;IACvBA,uDAAA,YAAuC;IACvCA,4DAAA,SAAI;IAAAA,oDAAA,uBAAgB;IAAAA,0DAAA,EAAK;IACzBA,4DAAA,QAAG;IAAAA,oDAAA,sEAA0D;IAAAA,0DAAA,EAAI;IACjEA,4DAAA,iBAAkE;IAA3BA,wDAAA,mBAAAoC,mEAAA;MAAApC,2DAAA,CAAAqC,GAAA;MAAA,MAAAvB,MAAA,GAAAd,2DAAA;MAAA,OAAAA,yDAAA,CAASc,MAAA,CAAAwB,cAAA,EAAgB;IAAA,EAAC;IAC/DtC,uDAAA,WAA2B;IAACA,oDAAA,8BAC9B;IACFA,0DADE,EAAS,EACL;;;;;IAuBJA,4DAAA,cAAuH;IACrHA,oDAAA,+BACF;IAAAA,0DAAA,EAAM;;;;;IAaNA,4DAAA,cAAiH;IAC/GA,oDAAA,4BACF;IAAAA,0DAAA,EAAM;;;;;IAMNA,4DAAA,cAAuH;IACrHA,oDAAA,iCACF;IAAAA,0DAAA,EAAM;;;;;IASNA,4DAAA,cAA+G;IAC7GA,oDAAA,uCACF;IAAAA,0DAAA,EAAM;;;;;IAaNA,4DAAA,cAAqI;IACnIA,oDAAA,yCACF;IAAAA,0DAAA,EAAM;;;;;IAeNA,4DAAA,cAAiH;IAC/GA,oDAAA,wCACF;IAAAA,0DAAA,EAAM;;;;;IAmBNA,4DAAA,cAAyG;IACvGA,oDAAA,2CACF;IAAAA,0DAAA,EAAM;;;;;IAqCNA,4DAAA,cAAmI;IACjIA,oDAAA,oDACF;IAAAA,0DAAA,EAAM;;;ADxOd,MAAOuC,kBAAkB;EAQ7B;EACA,OAAOC,eAAeA,CAACC,OAAwB;IAC7C,MAAMC,KAAK,GAAGD,OAAO,CAACC,KAAK;IAC3B,IAAI,CAACA,KAAK,IAAIA,KAAK,KAAK,EAAE,IAAIA,KAAK,KAAK,aAAa,EAAE;MACrD,OAAO;QAAEC,QAAQ,EAAE;MAAI,CAAE;;IAE3B,OAAO,IAAI;EACb;EAEAC,YACUC,EAAe,EACfC,gBAAkC,EAClCC,YAA0B,EAC1BC,MAAc;IAHd,KAAAH,EAAE,GAAFA,EAAE;IACF,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IApBhB,KAAAb,SAAS,GAAe,EAAE;IAG1B,KAAAc,SAAS,GAAG,KAAK;IACjB,KAAAC,iBAAiB,GAAkB,IAAI;IACvC,KAAAC,aAAa,GAAkB,IAAI;IAiBjC;IACA,MAAMC,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,MAAMC,WAAW,GAAGF,KAAK,CAACG,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAErD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACZ,EAAE,CAACa,KAAK,CAAC;MAChChC,SAAS,EAAE,CAAC,EAAE,EAAE3B,sDAAU,CAAC4C,QAAQ,CAAC;MACpCgB,cAAc,EAAE,CAAC,IAAI,EAAE5D,sDAAU,CAAC4C,QAAQ,CAAC;MAC3Cf,MAAM,EAAE,CAAC,eAAe,EAAE7B,sDAAU,CAAC4C,QAAQ,CAAC;MAC9Cd,SAAS,EAAE,CAAC,iBAAiB,EAAE9B,sDAAU,CAAC4C,QAAQ,CAAC;MACnDiB,KAAK,EAAE,CAAC,+BAA+B,EAAE,CAAC7D,sDAAU,CAAC4C,QAAQ,EAAE5C,sDAAU,CAAC6D,KAAK,CAAC,CAAC;MACjFtD,QAAQ,EAAE,CAAC,EAAE,CAAC;MACduD,gBAAgB,EAAE,CAACP,WAAW,EAAEvD,sDAAU,CAAC4C,QAAQ,CAAC;MACpDmB,MAAM,EAAE,CAAC,GAAG,EAAEvB,kBAAkB,CAACC,eAAe,CAAC;MACjDuB,EAAE,EAAE,CAAC,IAAI,EAAExB,kBAAkB,CAACC,eAAe,CAAC;MAC9CwB,gBAAgB,EAAE,CAAC,EAAE,CAAC;MACtBC,kBAAkB,EAAE,CAAC,EAAE,CAAC;MACxBC,SAAS,EAAE,CAAC,EAAE,CAAC;MACfC,GAAG,EAAE,CAAC,EAAE,CAAC;MACTC,eAAe,EAAE,CAAC,aAAa,EAAE7B,kBAAkB,CAACC,eAAe;KACpE,CAAC;IAEF,IAAI,CAAC6B,UAAU,GAAG,IAAI,CAACxB,EAAE,CAACa,KAAK,CAAC;MAC9BY,KAAK,EAAE,CAAC,EAAE;KACX,CAAC;IAEF;IACA,IAAI,CAACb,YAAY,CAACc,GAAG,CAAC,kBAAkB,CAAC,EAAEC,YAAY,CAACC,SAAS,CAAC,MAAK;MACrE,IAAI,CAACtB,aAAa,GAAG,IAAI,CAACuB,YAAY,EAAE;IAC1C,CAAC,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,aAAaA,CAAA;IACX,IAAI,CAAC7B,MAAM,CAAC8B,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;EAEAF,aAAaA,CAAA;IACX,IAAI,CAAC9B,gBAAgB,CAACiC,YAAY,EAAE,CAACN,SAAS,CAAC;MAC7CO,IAAI,EAAGC,IAAS,IAAI;QAClB;QACA,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;UACvB,IAAI,CAAC9C,SAAS,GAAG8C,IAAI;SACtB,MAAM,IAAIA,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAACA,IAAI,CAAC,EAAE;UAC3C,IAAI,CAAC9C,SAAS,GAAG8C,IAAI,CAACA,IAAI;SAC3B,MAAM,IAAIA,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC9C,SAAS,CAAC,EAAE;UAChD,IAAI,CAACA,SAAS,GAAG8C,IAAI,CAAC9C,SAAS;SAChC,MAAM;UACLiD,OAAO,CAACC,IAAI,CAAC,8BAA8B,EAAEJ,IAAI,CAAC;UAClD,IAAI,CAAC9C,SAAS,GAAG,EAAE;;MAEvB,CAAC;MACDmD,KAAK,EAAGA,KAAK,IAAI;QACf,IAAI,CAACvC,YAAY,CAACwC,SAAS,CAAC,2BAA2B,CAAC;QACxDH,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChD,IAAI,CAACnD,SAAS,GAAG,EAAE;MACrB;KACD,CAAC;EACJ;EAEAqD,eAAeA,CAAA;IACb,MAAMC,UAAU,GAAG,IAAI,CAACpB,UAAU,CAAC3B,KAAK;IAExC;IACA,MAAMgD,aAAa,GAAGD,UAAU,CAACnB,KAAK,IAAImB,UAAU,CAACnB,KAAK,CAACqB,IAAI,EAAE,CAACC,MAAM,GAAG,CAAC;IAE5E,IAAI,CAACF,aAAa,EAAE;MAClB;MACA,IAAI,CAACd,aAAa,EAAE;MACpB;;IAGF,IAAI,CAAC9B,gBAAgB,CAAC0C,eAAe,CAACC,UAAU,CAAC,CAAChB,SAAS,CAAC;MAC1DO,IAAI,EAAGC,IAAS,IAAI;QAClB;QACA,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;UACvB,IAAI,CAAC9C,SAAS,GAAG8C,IAAI;SACtB,MAAM,IAAIA,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAACA,IAAI,CAAC,EAAE;UAC3C,IAAI,CAAC9C,SAAS,GAAG8C,IAAI,CAACA,IAAI;SAC3B,MAAM,IAAIA,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC9C,SAAS,CAAC,EAAE;UAChD,IAAI,CAACA,SAAS,GAAG8C,IAAI,CAAC9C,SAAS;SAChC,MAAM;UACL,IAAI,CAACA,SAAS,GAAG,EAAE;;QAGrB;QACA,IAAI,IAAI,CAACA,SAAS,CAACyD,MAAM,IAAI,GAAG,EAAE;UAChC,IAAI,CAAC7C,YAAY,CAAC8C,QAAQ,CAAC,+DAA+D,CAAC;;MAE/F,CAAC;MACDP,KAAK,EAAGA,KAAK,IAAI;QACf,IAAI,CAACvC,YAAY,CAACwC,SAAS,CAAC,sBAAsB,CAAC;QACnDH,OAAO,CAACE,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClDF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAACA,KAAK,CAAC;QAC7C,IAAI,CAACnD,SAAS,GAAG,EAAE;MACrB;KACD,CAAC;EACJ;EAEA2D,WAAWA,CAAA;IACT,IAAI,CAACzB,UAAU,CAAC0B,KAAK,EAAE;IACvB,IAAI,CAACnB,aAAa,EAAE;EACtB;EAEAtC,cAAcA,CAAA;IACZ,IAAI,CAACW,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,iBAAiB,GAAG,IAAI;IAE7B;IACA,MAAME,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,MAAMC,WAAW,GAAGF,KAAK,CAACG,WAAW,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAErD,IAAI,CAACC,YAAY,CAACsC,KAAK,EAAE;IACzB,IAAI,CAACtC,YAAY,CAACuC,UAAU,CAAC;MAC3BrC,cAAc,EAAE,IAAI;MACpBE,gBAAgB,EAAEP,WAAW;MAC7B1B,MAAM,EAAE,eAAe;MACvBC,SAAS,EAAE,iBAAiB;MAC5B+B,KAAK,EAAE,+BAA+B;MACtCE,MAAM,EAAE,GAAG;MACXC,EAAE,EAAE,IAAI;MACRK,eAAe,EAAE;KAClB,CAAC;IACF,IAAI,CAACjB,aAAa,GAAG,IAAI,CAAC,CAAC;IAC3B,IAAI,CAAC8C,SAAS,EAAE;EAClB;EAEA1E,YAAYA,CAAC2E,QAAkB;IAC7B,IAAI,CAACjD,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,iBAAiB,GAAGgD,QAAQ,CAACC,EAAE,IAAI,IAAI;IAC5C,IAAI,CAAC1C,YAAY,CAACuC,UAAU,CAAC;MAC3BtE,SAAS,EAAEwE,QAAQ,CAACxE,SAAS;MAC7BiC,cAAc,EAAEuC,QAAQ,CAACvC,cAAc;MACvC/B,MAAM,EAAEsE,QAAQ,CAACtE,MAAM;MACvBC,SAAS,EAAEqE,QAAQ,CAACrE,SAAS;MAC7B+B,KAAK,EAAEsC,QAAQ,CAACtC,KAAK;MACrBtD,QAAQ,EAAE4F,QAAQ,CAAC5F,QAAQ;MAC3BuD,gBAAgB,EAAEqC,QAAQ,CAACrC,gBAAgB;MAC3CC,MAAM,EAAEoC,QAAQ,CAACpC,MAAM,IAAI,EAAE;MAC7BC,EAAE,EAAEmC,QAAQ,CAACnC,EAAE,IAAI,EAAE;MACrBC,gBAAgB,EAAEkC,QAAQ,CAAClC,gBAAgB;MAC3CC,kBAAkB,EAAEiC,QAAQ,CAACjC,kBAAkB;MAC/CC,SAAS,EAAEgC,QAAQ,CAAChC,SAAS;MAC7BC,GAAG,EAAE+B,QAAQ,CAAC/B,GAAG;MACjBC,eAAe,EAAE8B,QAAQ,CAAC9B,eAAe,IAAI;KAC9C,CAAC;IACF;IACA,IAAI,CAACjB,aAAa,GAAG,IAAI,CAACuB,YAAY,EAAE;IACxC,IAAI,CAACuB,SAAS,EAAE;EAClB;EAEAG,YAAYA,CAAA;IACV;IACA,IAAI,CAAC3C,YAAY,CAAC4C,gBAAgB,EAAE;IAEpC,IAAI,IAAI,CAAC5C,YAAY,CAAC6C,OAAO,EAAE;MAC7B,IAAI,CAACvD,YAAY,CAACwC,SAAS,CAAC,+DAA+D,CAAC;MAC5F;;IAGF,MAAMgB,QAAQ,GAAG,IAAI,CAAC9C,YAAY,CAACf,KAAK;IAExC,IAAI,IAAI,CAACO,SAAS,IAAI,IAAI,CAACC,iBAAiB,EAAE;MAC5C,MAAMsD,UAAU,GAA0B;QACxC,GAAGD,QAAQ;QACXJ,EAAE,EAAE,IAAI,CAACjD;OACV;MAED,IAAI,CAACJ,gBAAgB,CAAC2D,cAAc,CAACD,UAAU,CAAC,CAAC/B,SAAS,CAAC;QACzDO,IAAI,EAAG0B,QAAQ,IAAI;UACjB,IAAIA,QAAQ,CAACC,OAAO,EAAE;YACpB,IAAI,CAAC5D,YAAY,CAAC6D,WAAW,CAAC,oCAAoC,CAAC;YACnE,IAAI,CAACC,SAAS,EAAE;YAChB,IAAI,CAACjC,aAAa,EAAE;WACrB,MAAM;YACL;YACA,IAAI,CAAC7B,YAAY,CAACwC,SAAS,CAACmB,QAAQ,CAACI,OAAO,CAAC;;QAEjD,CAAC;QACDxB,KAAK,EAAGA,KAAK,IAAI;UACf;UACA,MAAMyB,YAAY,GAAGzB,KAAK,CAACA,KAAK,EAAEwB,OAAO,IAAI,8BAA8B;UAC3E,IAAI,CAAC/D,YAAY,CAACwC,SAAS,CAACwB,YAAY,CAAC;UACzC3B,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAClD;OACD,CAAC;KACH,MAAM;MACL,MAAM0B,UAAU,GAA0BT,QAAQ;MAElD,IAAI,CAACzD,gBAAgB,CAACmE,cAAc,CAACD,UAAU,CAAC,CAACvC,SAAS,CAAC;QACzDO,IAAI,EAAG0B,QAAQ,IAAI;UACjB,IAAIA,QAAQ,CAACC,OAAO,EAAE;YACpB,IAAI,CAAC5D,YAAY,CAAC6D,WAAW,CAAC,+BAA+B,CAAC;YAC9D,IAAI,CAACC,SAAS,EAAE;YAChB,IAAI,CAACjC,aAAa,EAAE;WACrB,MAAM;YACL;YACA,IAAI,CAAC7B,YAAY,CAACwC,SAAS,CAACmB,QAAQ,CAACI,OAAO,CAAC;;QAEjD,CAAC;QACDxB,KAAK,EAAGA,KAAK,IAAI;UACf;UACA,MAAMyB,YAAY,GAAGzB,KAAK,CAACA,KAAK,EAAEwB,OAAO,IAAI,yBAAyB;UACtE,IAAI,CAAC/D,YAAY,CAACwC,SAAS,CAACwB,YAAY,CAAC;UACzC3B,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAChDF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAACA,KAAK,CAAC;UAC7CF,OAAO,CAACE,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC4B,MAAM,CAAC;QAC9C;OACD,CAAC;;EAEN;EAEAC,cAAcA,CAAChB,EAAU;IACvB,IAAIiB,OAAO,CAAC,sDAAsD,CAAC,EAAE;MACnE,IAAI,CAACtE,gBAAgB,CAACqE,cAAc,CAAChB,EAAE,CAAC,CAAC1B,SAAS,CAAC;QACjDO,IAAI,EAAEA,CAAA,KAAK;UACT,IAAI,CAACjC,YAAY,CAAC6D,WAAW,CAAC,kCAAkC,CAAC;UACjE,IAAI,CAAChC,aAAa,EAAE;QACtB,CAAC;QACDU,KAAK,EAAGA,KAAK,IAAI;UACf,IAAI,CAACvC,YAAY,CAACwC,SAAS,CAAC,4BAA4B,CAAC;UACzDH,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAClD;OACD,CAAC;;EAEN;EAEQW,SAASA,CAAA;IACf,MAAMoB,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;IACtD,IAAIF,KAAK,EAAE;MACT,MAAMG,cAAc,GAAG,IAAKC,MAAc,CAACC,SAAS,CAACC,KAAK,CAACN,KAAK,CAAC;MACjEG,cAAc,CAACI,IAAI,EAAE;;EAEzB;EAEQf,SAASA,CAAA;IACf,MAAMQ,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;IACtD,IAAIF,KAAK,EAAE;MACT,MAAMG,cAAc,GAAIC,MAAc,CAACC,SAAS,CAACC,KAAK,CAACE,WAAW,CAACR,KAAK,CAAC;MACzE,IAAIG,cAAc,EAAE;QAClBA,cAAc,CAACM,IAAI,EAAE;;;EAG3B;EAEApD,YAAYA,CAAA;IACV,MAAMqD,eAAe,GAAG,IAAI,CAACtE,YAAY,CAACc,GAAG,CAAC,kBAAkB,CAAC,EAAE7B,KAAK;IACxE,IAAI,CAACqF,eAAe,EAAE,OAAO,IAAI;IAEjC,MAAM3E,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,MAAM2E,SAAS,GAAG,IAAI3E,IAAI,CAAC0E,eAAe,CAAC;IAC3C,IAAIE,GAAG,GAAG7E,KAAK,CAAC8E,WAAW,EAAE,GAAGF,SAAS,CAACE,WAAW,EAAE;IACvD,MAAMC,SAAS,GAAG/E,KAAK,CAACgF,QAAQ,EAAE,GAAGJ,SAAS,CAACI,QAAQ,EAAE;IAEzD,IAAID,SAAS,GAAG,CAAC,IAAKA,SAAS,KAAK,CAAC,IAAI/E,KAAK,CAACiF,OAAO,EAAE,GAAGL,SAAS,CAACK,OAAO,EAAG,EAAE;MAC/EJ,GAAG,EAAE;;IAGP,OAAOA,GAAG;EACZ;EAEAhH,oBAAoBA,CAACiF,QAAkB;IACrC;IACA,IAAI,CAAClD,MAAM,CAAC8B,QAAQ,CAAC,CAAC,qBAAqB,CAAC,EAAE;MAC5CwD,WAAW,EAAE;QAAEC,UAAU,EAAErC,QAAQ,CAACC,EAAE;QAAEqC,cAAc,EAAE,GAAGtC,QAAQ,CAACtE,MAAM,IAAIsE,QAAQ,CAACrE,SAAS;MAAE;KACnG,CAAC;EACJ;;;uBAnSWU,kBAAkB,EAAAvC,+DAAA,CAAA0I,uDAAA,GAAA1I,+DAAA,CAAA4I,yEAAA,GAAA5I,+DAAA,CAAA8I,iEAAA,GAAA9I,+DAAA,CAAAgJ,mDAAA;IAAA;EAAA;;;YAAlBzG,kBAAkB;MAAA2G,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAApJ,iEAAA;MAAAsJ,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCXvB3J,4DAJR,aAA6B,aACL,aACA,aAC6C,SACzD;UAAAA,oDAAA,gCAAoB;UAAAA,0DAAA,EAAK;UAC7BA,4DAAA,gBAA2D;UAA3BA,wDAAA,mBAAA6J,oDAAA;YAAA,OAASD,GAAA,CAAAtH,cAAA,EAAgB;UAAA,EAAC;UACxDtC,uDAAA,WAA2B;UAACA,oDAAA,uBAC9B;UAGNA,0DAHM,EAAS,EACL,EACF,EACF;UAOEA,4DAJR,aAAsB,cACA,cACA,cACO,eACyC;UAA/BA,wDAAA,sBAAA8J,sDAAA;YAAA,OAAYF,GAAA,CAAApE,eAAA,EAAiB;UAAA,EAAC;UAGvDxF,4DAFJ,cAAiB,eACO,iBACM;UAAAA,oDAAA,uBAAe;UAAAA,0DAAA,EAAQ;UACjDA,uDAAA,iBAC2E;UAC7EA,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,cAAM;UAAAA,0DAAA,EAAQ;UAEtCA,4DADF,WAAK,kBACgD;UACjDA,uDAAA,aAA6B;UAACA,oDAAA,gBAChC;UAAAA,0DAAA,EAAS;UACTA,4DAAA,kBAAwE;UAAxBA,wDAAA,mBAAA+J,qDAAA;YAAA,OAASH,GAAA,CAAA9D,WAAA,EAAa;UAAA,EAAC;UACrE9F,uDAAA,aAA4B;UAACA,oDAAA,iBAC/B;UAQhBA,0DARgB,EAAS,EACL,EACF,EACF,EACD,EACH,EACF,EACF,EACF;UAMAA,4DAHN,cAAiB,cACK,cACA,cACO;UA0CrBA,wDAzCA,KAAAgK,0CAAA,mBAA4B,KAAAC,0CAAA,kBAyCE;UAcxCjK,0DAJQ,EAAM,EACF,EACF,EACF,EACF;UAOEA,4DAJR,eAAyD,eACpB,eACN,eACC,cACA;UAAAA,oDAAA,IAA6C;UAAAA,0DAAA,EAAK;UAC1EA,uDAAA,kBAAyE;UAC3EA,0DAAA,EAAM;UAEJA,4DADF,eAAwB,eACuC;UAA5BA,wDAAA,sBAAAkK,sDAAA;YAAA,OAAYN,GAAA,CAAAxD,YAAA,EAAc;UAAA,EAAC;UAGtDpG,4DAFJ,cAAiB,eACO,iBACM;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAQ;UAC7CA,uDAAA,iBAC6G;UAC7GA,wDAAA,KAAAmK,kCAAA,kBAAuH;UAGzHnK,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,2BAAmB;UAAAA,0DAAA,EAAQ;UACrDA,uDAAA,iBAAyE;UAE7EA,0DADE,EAAM,EACF;UAIFA,4DAFJ,eAAsB,eACE,iBACM;UAAAA,oDAAA,gBAAQ;UAAAA,0DAAA,EAAQ;UAC1CA,uDAAA,iBACuG;UACvGA,wDAAA,KAAAoK,kCAAA,kBAAiH;UAGnHpK,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAQ;UAC7CA,uDAAA,iBAC6G;UAC7GA,wDAAA,KAAAqK,kCAAA,kBAAuH;UAI3HrK,0DADE,EAAM,EACF;UAIFA,4DAFJ,eAAsB,eACE,iBACM;UAAAA,oDAAA,eAAO;UAAAA,0DAAA,EAAQ;UACzCA,uDAAA,iBACqG;UACrGA,wDAAA,KAAAsK,kCAAA,kBAA+G;UAGjHtK,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,qBAAQ;UAAAA,0DAAA,EAAQ;UAC1CA,uDAAA,iBAAkE;UAEtEA,0DADE,EAAM,EACF;UAIFA,4DAFJ,eAAsB,eACE,iBACM;UAAAA,oDAAA,6BAAqB;UAAAA,0DAAA,EAAQ;UACvDA,uDAAA,iBAC2H;UAC3HA,wDAAA,KAAAuK,kCAAA,kBAAqI;UAGvIvK,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,YAAI;UAAAA,0DAAA,EAAQ;UACtCA,uDAAA,iBAAwG;UAC1GA,0DAAA,EAAM;UAEJA,4DADF,eAAsB,iBACM;UAAAA,oDAAA,qBAAQ;UAAAA,0DAAA,EAAQ;UAGxCA,4DAFF,kBACwG,kBAC5E;UAAAA,oDAAA,mBAAW;UAAAA,0DAAA,EAAS;UAC9CA,4DAAA,kBAAkB;UAAAA,oDAAA,iBAAS;UAAAA,0DAAA,EAAS;UACpCA,4DAAA,kBAAkB;UAAAA,oDAAA,gBAAQ;UAAAA,0DAAA,EAAS;UACnCA,4DAAA,kBAAkB;UAAAA,oDAAA,YAAI;UACxBA,0DADwB,EAAS,EACxB;UACTA,wDAAA,KAAAwK,kCAAA,kBAAiH;UAIrHxK,0DADE,EAAM,EACF;UAIFA,4DAFJ,eAAsB,eACE,kBACM;UAAAA,oDAAA,aAAI;UAAAA,0DAAA,EAAQ;UAGpCA,4DAFF,mBACgG,mBACpE;UAAAA,oDAAA,oBAAW;UAAAA,0DAAA,EAAS;UAC9CA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UAAAA,0DAAA,EAAS;UAC9BA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UAAAA,0DAAA,EAAS;UAC9BA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UAAAA,0DAAA,EAAS;UAC9BA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UAAAA,0DAAA,EAAS;UAC9BA,4DAAA,mBAAoB;UAAAA,oDAAA,YAAG;UAAAA,0DAAA,EAAS;UAChCA,4DAAA,mBAAoB;UAAAA,oDAAA,YAAG;UAAAA,0DAAA,EAAS;UAChCA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UAAAA,0DAAA,EAAS;UAC9BA,4DAAA,mBAAmB;UAAAA,oDAAA,WAAE;UACvBA,0DADuB,EAAS,EACvB;UACTA,wDAAA,MAAAyK,mCAAA,kBAAyG;UAG3GzK,0DAAA,EAAM;UAEJA,4DADF,gBAAsB,kBACM;UAAAA,oDAAA,6BAAoB;UAAAA,0DAAA,EAAQ;UACtDA,uDAAA,kBAAuH;UAE3HA,0DADE,EAAM,EACF;UAIFA,4DAFJ,gBAAsB,eACA,kBACQ;UAAAA,oDAAA,oCAAsB;UAAAA,0DAAA,EAAQ;UACxDA,uDAAA,kBAAiH;UAErHA,0DADE,EAAM,EACF;UAIFA,4DAFJ,gBAAsB,eACA,kBACQ;UAAAA,oDAAA,uBAAS;UAAAA,0DAAA,EAAQ;UAC3CA,uDAAA,kBAA0G;UAE9GA,0DADE,EAAM,EACF;UAIFA,4DAFJ,gBAAsB,gBACE,kBACM;UAAAA,oDAAA,YAAG;UAAAA,0DAAA,EAAQ;UACrCA,uDAAA,kBAAuG;UACzGA,0DAAA,EAAM;UAEJA,4DADF,gBAAsB,kBACM;UAAAA,oDAAA,kCAAoB;UAAAA,0DAAA,EAAQ;UAGpDA,4DAFF,mBAC0H,mBAC9F;UAAAA,oDAAA,oBAAW;UAAAA,0DAAA,EAAS;UAC9CA,4DAAA,mBAA6B;UAAAA,oDAAA,qBAAY;UAAAA,0DAAA,EAAS;UAClDA,4DAAA,mBAA2B;UAAAA,oDAAA,mBAAU;UAAAA,0DAAA,EAAS;UAC9CA,4DAAA,mBAA0B;UAAAA,oDAAA,uBAAS;UAAAA,0DAAA,EAAS;UAC5CA,4DAAA,mBAA4B;UAAAA,oDAAA,oBAAW;UACzCA,0DADyC,EAAS,EACzC;UACTA,wDAAA,MAAA0K,mCAAA,kBAAmI;UAM3I1K,0DAHM,EAAM,EACF,EACD,EACH;UAEJA,4DADF,gBAA0B,mBACgD;UAAAA,oDAAA,iBAAQ;UAAAA,0DAAA,EAAS;UACzFA,4DAAA,mBAAyG;UAA3DA,wDAAA,mBAAA2K,sDAAA;YAAA,OAASf,GAAA,CAAAxD,YAAA,EAAc;UAAA,EAAC;UACpEpG,oDAAA,KACF;UAIRA,0DAJQ,EAAS,EACL,EACF,EACF,EACF;;;;;;;;;;;;;;;;;;;UAnPUA,uDAAA,IAAwB;UAAxBA,wDAAA,cAAA4J,GAAA,CAAAvF,UAAA,CAAwB;UA8B9BrE,uDAAA,IAwCC;UAxCDA,2DAAA,KAAA4J,GAAA,CAAAzH,SAAA,CAAAyD,MAAA,eAwCC;UACD5F,uDAAA,EASC;UATDA,2DAAA,KAAA4J,GAAA,CAAAzH,SAAA,CAAAyD,MAAA,iBASC;UAYqB5F,uDAAA,GAA6C;UAA7CA,gEAAA,KAAA4J,GAAA,CAAA3G,SAAA,mCAA6C;UAI/DjD,uDAAA,GAA0B;UAA1BA,wDAAA,cAAA4J,GAAA,CAAAnG,YAAA,CAA0B;UAKnBzD,uDAAA,GAAqG;UAArGA,yDAAA,iBAAA8K,OAAA,GAAAlB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAAuG,OAAA,CAAAxE,OAAA,OAAAwE,OAAA,GAAAlB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAAuG,OAAA,CAAAC,OAAA,EAAqG;UAC7E/K,uDAAA,EAAsF;UAAtFA,wDAAA,WAAAgL,OAAA,GAAApB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAAyG,OAAA,CAAA1E,OAAA,OAAA0E,OAAA,GAAApB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAAyG,OAAA,CAAAD,OAAA,EAAsF;UAc9G/K,uDAAA,GAA+F;UAA/FA,yDAAA,iBAAAiL,OAAA,GAAArB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAA0G,OAAA,CAAA3E,OAAA,OAAA2E,OAAA,GAAArB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAA0G,OAAA,CAAAF,OAAA,EAA+F;UACvE/K,uDAAA,EAAgF;UAAhFA,wDAAA,WAAAkL,OAAA,GAAAtB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAA2G,OAAA,CAAA5E,OAAA,OAAA4E,OAAA,GAAAtB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAA2G,OAAA,CAAAH,OAAA,EAAgF;UAOxG/K,uDAAA,GAAqG;UAArGA,yDAAA,iBAAAmL,OAAA,GAAAvB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAA4G,OAAA,CAAA7E,OAAA,OAAA6E,OAAA,GAAAvB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAA4G,OAAA,CAAAJ,OAAA,EAAqG;UAC7E/K,uDAAA,EAAsF;UAAtFA,wDAAA,WAAAoL,QAAA,GAAAxB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAA6G,QAAA,CAAA9E,OAAA,OAAA8E,QAAA,GAAAxB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,gCAAA6G,QAAA,CAAAL,OAAA,EAAsF;UAU9G/K,uDAAA,GAA6F;UAA7FA,yDAAA,iBAAAqL,QAAA,GAAAzB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,4BAAA8G,QAAA,CAAA/E,OAAA,OAAA+E,QAAA,GAAAzB,GAAA,CAAAnG,YAAA,CAAAc,GAAA,4BAAA8G,QAAA,CAAAN,OAAA,EAA6F;UACrE/K,uDAAA,EAA8E;UAA9EA,wDAAA,WAAAsL,QAAA,GAAA1B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,4BAAA+G,QAAA,CAAAhF,OAAA,OAAAgF,QAAA,GAAA1B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,4BAAA+G,QAAA,CAAAP,OAAA,EAA8E;UActG/K,uDAAA,GAAmH;UAAnHA,yDAAA,iBAAAuL,QAAA,GAAA3B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,uCAAAgH,QAAA,CAAAjF,OAAA,OAAAiF,QAAA,GAAA3B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,uCAAAgH,QAAA,CAAAR,OAAA,EAAmH;UAC3F/K,uDAAA,EAAoG;UAApGA,wDAAA,WAAAwL,QAAA,GAAA5B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,uCAAAiH,QAAA,CAAAlF,OAAA,OAAAkF,QAAA,GAAA5B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,uCAAAiH,QAAA,CAAAT,OAAA,EAAoG;UAM3F/K,uDAAA,GAAsD;UAAtDA,wDAAA,UAAA4J,GAAA,CAAAzG,aAAA,GAAAyG,GAAA,CAAAzG,aAAA,qBAAsD;UAKtFnD,uDAAA,GAA+F;UAA/FA,yDAAA,iBAAAyL,QAAA,GAAA7B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAAkH,QAAA,CAAAnF,OAAA,OAAAmF,QAAA,GAAA7B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAAkH,QAAA,CAAAV,OAAA,EAA+F;UAMxE/K,uDAAA,GAAgF;UAAhFA,wDAAA,WAAA0L,QAAA,GAAA9B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAAmH,QAAA,CAAApF,OAAA,OAAAoF,QAAA,GAAA9B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,6BAAAmH,QAAA,CAAAX,OAAA,EAAgF;UAUvG/K,uDAAA,GAAuF;UAAvFA,yDAAA,iBAAA2L,QAAA,GAAA/B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,yBAAAoH,QAAA,CAAArF,OAAA,OAAAqF,QAAA,GAAA/B,GAAA,CAAAnG,YAAA,CAAAc,GAAA,yBAAAoH,QAAA,CAAAZ,OAAA,EAAuF;UAWhE/K,uDAAA,IAAwE;UAAxEA,wDAAA,WAAA4L,QAAA,GAAAhC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,yBAAAqH,QAAA,CAAAtF,OAAA,OAAAsF,QAAA,GAAAhC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,yBAAAqH,QAAA,CAAAb,OAAA,EAAwE;UAgC/F/K,uDAAA,IAAiH;UAAjHA,yDAAA,iBAAA6L,QAAA,GAAAjC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,sCAAAsH,QAAA,CAAAvF,OAAA,OAAAuF,QAAA,GAAAjC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,sCAAAsH,QAAA,CAAAd,OAAA,EAAiH;UAO1F/K,uDAAA,IAAkG;UAAlGA,wDAAA,WAAA8L,QAAA,GAAAlC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,sCAAAuH,QAAA,CAAAxF,OAAA,OAAAwF,QAAA,GAAAlC,GAAA,CAAAnG,YAAA,CAAAc,GAAA,sCAAAuH,QAAA,CAAAf,OAAA,EAAkG;UAShE/K,uDAAA,GAAiC;UAAjCA,wDAAA,aAAA4J,GAAA,CAAAnG,YAAA,CAAA6C,OAAA,CAAiC;UACtGtG,uDAAA,EACF;UADEA,gEAAA,MAAA4J,GAAA,CAAA3G,SAAA,+BACF;;;qBDrPIpD,yDAAY,EAAAkM,iDAAA,EAAEjM,+DAAmB,EAAA4I,4DAAA,EAAAA,0DAAA,EAAAA,sEAAA,EAAAA,gEAAA,EAAAA,sEAAA,EAAAA,2DAAA,EAAAA,gEAAA,EAAAA,8DAAA,EAAAA,2DAAA;MAAAgE,MAAA;IAAA;EAAA","sources":["./src/app/components/pacientes/pacientes.component.ts","./src/app/components/pacientes/pacientes.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, Validators, AbstractControl, ValidationErrors } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { PacientesService } from '../../services/pacientes.service';\nimport { ToastService } from '../../services/toast.service';\nimport { Paciente, PacienteCreateRequest, PacienteUpdateRequest } from '../../models/paciente.model';\n\n@Component({\n  selector: 'app-pacientes',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  templateUrl: './pacientes.component.html',\n  styleUrls: ['./pacientes.component.css']\n})\nexport class PacientesComponent implements OnInit {\n  pacientes: Paciente[] = [];\n  pacienteForm: FormGroup;\n  searchForm: FormGroup;\n  isEditing = false;\n  editingPacienteId: number | null = null;\n  calculatedAge: number | null = null;\n\n  // Validador personalizado para campos select\n  static selectValidator(control: AbstractControl): ValidationErrors | null {\n    const value = control.value;\n    if (!value || value === '' || value === 'seleccionar') {\n      return { required: true };\n    }\n    return null;\n  }\n\n  constructor(\n    private fb: FormBuilder,\n    private pacientesService: PacientesService,\n    private toastService: ToastService,\n    private router: Router\n  ) {\n    // Obtener la fecha actual en formato YYYY-MM-DD\n    const today = new Date();\n    const fechaActual = today.toISOString().split('T')[0];\n    \n    this.pacienteForm = this.fb.group({\n      documento: ['', Validators.required],\n      tipo_documento: ['CC', Validators.required],\n      nombre: ['Poner nombres', Validators.required],\n      apellidos: ['Poner apellidos', Validators.required],\n      email: ['confirmarcorreo@confirmar.com', [Validators.required, Validators.email]],\n      telefono: [''],\n      fecha_nacimiento: [fechaActual, Validators.required],\n      genero: ['O', PacientesComponent.selectValidator],\n      rh: ['O+', PacientesComponent.selectValidator],\n      nombre_acudiente: [''],\n      telefono_acudiente: [''],\n      direccion: [''],\n      eps: [''],\n      tipo_afiliacion: ['no afiliado', PacientesComponent.selectValidator]\n    });\n\n    this.searchForm = this.fb.group({\n      query: ['']\n    });\n\n    // Suscribirse a cambios en la fecha de nacimiento para calcular la edad\n    this.pacienteForm.get('fecha_nacimiento')?.valueChanges.subscribe(() => {\n      this.calculatedAge = this.calculateAge();\n    });\n  }\n\n  ngOnInit(): void {\n    this.loadPacientes();\n  }\n\n  goToDashboard() {\n    this.router.navigate(['/dashboard']);\n  }\n\n  loadPacientes(): void {\n    this.pacientesService.getPacientes().subscribe({\n      next: (data: any) => {\n        // Manejar tanto arrays directos como objetos que contengan arrays\n        if (Array.isArray(data)) {\n          this.pacientes = data;\n        } else if (data && Array.isArray(data.data)) {\n          this.pacientes = data.data;\n        } else if (data && Array.isArray(data.pacientes)) {\n          this.pacientes = data.pacientes;\n        } else {\n          console.warn('Formato de datos inesperado:', data);\n          this.pacientes = [];\n        }\n      },\n      error: (error) => {\n        this.toastService.showError('Error al cargar pacientes');\n        console.error('Error loading pacientes:', error);\n        this.pacientes = [];\n      }\n    });\n  }\n\n  searchPacientes(): void {\n    const searchData = this.searchForm.value;\n    \n    // Verificar si hay algún término de búsqueda\n    const hasSearchTerm = searchData.query && searchData.query.trim().length > 0;\n    \n    if (!hasSearchTerm) {\n      // Si no hay término de búsqueda, volver a la vista normal\n      this.loadPacientes();\n      return;\n    }\n    \n    this.pacientesService.searchPacientes(searchData).subscribe({\n      next: (data: any) => {\n        // Manejar tanto arrays directos como objetos que contengan arrays\n        if (Array.isArray(data)) {\n          this.pacientes = data;\n        } else if (data && Array.isArray(data.data)) {\n          this.pacientes = data.data;\n        } else if (data && Array.isArray(data.pacientes)) {\n          this.pacientes = data.pacientes;\n        } else {\n          this.pacientes = [];\n        }\n        \n        // Mostrar mensaje si se encontraron muchos resultados\n        if (this.pacientes.length >= 200) {\n          this.toastService.showInfo('Se encontraron muchos resultados. Mostrando los primeros 200.');\n        }\n      },\n      error: (error) => {\n        this.toastService.showError('Error en la búsqueda');\n        console.error('Error searching pacientes:', error);\n        console.error('Error response:', error.error);\n        this.pacientes = [];\n      }\n    });\n  }\n\n  clearSearch(): void {\n    this.searchForm.reset();\n    this.loadPacientes();\n  }\n\n  showCreateForm(): void {\n    this.isEditing = false;\n    this.editingPacienteId = null;\n    \n    // Obtener la fecha actual en formato YYYY-MM-DD\n    const today = new Date();\n    const fechaActual = today.toISOString().split('T')[0];\n    \n    this.pacienteForm.reset();\n    this.pacienteForm.patchValue({ \n      tipo_documento: 'CC',\n      fecha_nacimiento: fechaActual,\n      nombre: 'Poner nombres',\n      apellidos: 'Poner apellidos',\n      email: 'confirmarcorreo@confirmar.com',\n      genero: 'O',\n      rh: 'O+',\n      tipo_afiliacion: 'no afiliado'\n    });\n    this.calculatedAge = null; // Resetear la edad calculada\n    this.showModal();\n  }\n\n  editPaciente(paciente: Paciente): void {\n    this.isEditing = true;\n    this.editingPacienteId = paciente.id || null;\n    this.pacienteForm.patchValue({\n      documento: paciente.documento,\n      tipo_documento: paciente.tipo_documento,\n      nombre: paciente.nombre,\n      apellidos: paciente.apellidos,\n      email: paciente.email,\n      telefono: paciente.telefono,\n      fecha_nacimiento: paciente.fecha_nacimiento,\n      genero: paciente.genero || '',\n      rh: paciente.rh || '',\n      nombre_acudiente: paciente.nombre_acudiente,\n      telefono_acudiente: paciente.telefono_acudiente,\n      direccion: paciente.direccion,\n      eps: paciente.eps,\n      tipo_afiliacion: paciente.tipo_afiliacion || ''\n    });\n    // Calcular la edad inicial cuando se edita un paciente\n    this.calculatedAge = this.calculateAge();\n    this.showModal();\n  }\n\n  savePaciente(): void {\n    // Marcar todos los campos como touched para mostrar errores de validación\n    this.pacienteForm.markAllAsTouched();\n    \n    if (this.pacienteForm.invalid) {\n      this.toastService.showError('Por favor, complete todos los campos requeridos correctamente');\n      return;\n    }\n\n    const formData = this.pacienteForm.value;\n    \n    if (this.isEditing && this.editingPacienteId) {\n      const updateData: PacienteUpdateRequest = {\n        ...formData,\n        id: this.editingPacienteId\n      };\n      \n      this.pacientesService.updatePaciente(updateData).subscribe({\n        next: (response) => {\n          if (response.success) {\n            this.toastService.showSuccess('Paciente actualizado correctamente');\n            this.hideModal();\n            this.loadPacientes();\n          } else {\n            // Error de validación (documento duplicado, etc.)\n            this.toastService.showError(response.message);\n          }\n        },\n        error: (error) => {\n          // Error de conexión o servidor\n          const errorMessage = error.error?.message || 'Error al actualizar paciente';\n          this.toastService.showError(errorMessage);\n          console.error('Error updating paciente:', error);\n        }\n      });\n    } else {\n      const createData: PacienteCreateRequest = formData;\n      \n      this.pacientesService.createPaciente(createData).subscribe({\n        next: (response) => {\n          if (response.success) {\n            this.toastService.showSuccess('Paciente creado correctamente');\n            this.hideModal();\n            this.loadPacientes();\n          } else {\n            // Error de validación (documento duplicado, etc.)\n            this.toastService.showError(response.message);\n          }\n        },\n        error: (error) => {\n          // Error de conexión o servidor\n          const errorMessage = error.error?.message || 'Error al crear paciente';\n          this.toastService.showError(errorMessage);\n          console.error('Error creating paciente:', error);\n          console.error('Error response:', error.error);\n          console.error('Error status:', error.status);\n        }\n      });\n    }\n  }\n\n  deletePaciente(id: number): void {\n    if (confirm('¿Estás seguro de que quieres eliminar este paciente?')) {\n      this.pacientesService.deletePaciente(id).subscribe({\n        next: () => {\n          this.toastService.showSuccess('Paciente eliminado correctamente');\n          this.loadPacientes();\n        },\n        error: (error) => {\n          this.toastService.showError('Error al eliminar paciente');\n          console.error('Error deleting paciente:', error);\n        }\n      });\n    }\n  }\n\n  private showModal(): void {\n    const modal = document.getElementById('pacienteModal');\n    if (modal) {\n      const bootstrapModal = new (window as any).bootstrap.Modal(modal);\n      bootstrapModal.show();\n    }\n  }\n\n  private hideModal(): void {\n    const modal = document.getElementById('pacienteModal');\n    if (modal) {\n      const bootstrapModal = (window as any).bootstrap.Modal.getInstance(modal);\n      if (bootstrapModal) {\n        bootstrapModal.hide();\n      }\n    }\n  }\n\n  calculateAge(): number | null {\n    const fechaNacimiento = this.pacienteForm.get('fecha_nacimiento')?.value;\n    if (!fechaNacimiento) return null;\n    \n    const today = new Date();\n    const birthDate = new Date(fechaNacimiento);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    \n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    \n    return age;\n  }\n\n  verHistoriasClinicas(paciente: Paciente): void {\n    // Navegar al módulo de historias clínicas con el ID del paciente\n    this.router.navigate(['/historias-clinicas'], { \n      queryParams: { pacienteId: paciente.id, pacienteNombre: `${paciente.nombre} ${paciente.apellidos}` }\n    });\n  }\n}\n\n","<div class=\"container-fluid\">\n  <div class=\"row mb-4\">\n    <div class=\"col-12\">\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <h2>Gestión de Pacientes</h2>\n        <button class=\"btn btn-primary\" (click)=\"showCreateForm()\">\n          <i class=\"fas fa-plus\"></i> Nuevo Paciente\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Search Form -->\n  <div class=\"row mb-4\">\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <form [formGroup]=\"searchForm\" (ngSubmit)=\"searchPacientes()\">\n            <div class=\"row\">\n              <div class=\"col-md-8\">\n                <label class=\"form-label\">Buscar paciente</label>\n                <input type=\"text\" class=\"form-control\" formControlName=\"query\" \n                       placeholder=\"Buscar por documento, nombre, apellidos o teléfono...\">\n              </div>\n              <div class=\"col-md-4\">\n                <label class=\"form-label\">&nbsp;</label>\n                <div>\n                  <button type=\"submit\" class=\"btn btn-primary me-2\">\n                    <i class=\"fas fa-search\"></i> Buscar\n                  </button>\n                  <button type=\"button\" class=\"btn btn-secondary\" (click)=\"clearSearch()\">\n                    <i class=\"fas fa-times\"></i> Limpiar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Patients List -->\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          @if (pacientes.length > 0) {\n            <div class=\"historias-container pacientes-container\">\n              <!-- Header -->\n              <div class=\"historias-header\">\n                <div class=\"historia-cell\">Documento</div>\n                <div class=\"historia-cell\">Nombre Completo</div>\n                <div class=\"historia-cell\">Contacto</div>\n                <div class=\"historia-cell\">Acciones</div>\n              </div>\n              \n              <!-- Rows -->\n              @for (paciente of pacientes; track paciente.id) {\n                <div class=\"historia-row\" (click)=\"verHistoriasClinicas(paciente)\">\n                  <div class=\"historia-cell fecha-cell\">\n                    <i class=\"fas fa-id-card me-2\"></i>\n                    {{ paciente.documento }}\n                  </div>\n                  <div class=\"historia-cell motivo-cell\">\n                    <i class=\"fas fa-user me-2\"></i>\n                    {{ paciente.nombre }} {{ paciente.apellidos }}\n                  </div>\n                  <div class=\"historia-cell motivo-cell\">\n                    @if (paciente.telefono) {\n                      <i class=\"fas fa-phone me-2\"></i>\n                      {{ paciente.telefono }}\n                    } @else {\n                      <span class=\"text-muted\">Sin teléfono</span>\n                    }\n                  </div>\n                  <div class=\"historia-cell acciones-cell\">\n                    <button class=\"btn btn-sm btn-outline-primary me-1\" (click)=\"editPaciente(paciente); $event.stopPropagation()\">\n                      <i class=\"fas fa-edit\"></i>\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-info\" (click)=\"verHistoriasClinicas(paciente); $event.stopPropagation()\">\n                      <i class=\"fas fa-file-medical\"></i>\n                    </button>\n                  </div>\n                </div>\n              }\n            </div>\n          }\n          @if (pacientes.length === 0) {\n            <div class=\"empty-state\">\n              <i class=\"fas fa-users fa-4x mb-4\"></i>\n              <h4>No hay pacientes</h4>\n              <p>No se encontraron pacientes con los criterios de búsqueda.</p>\n              <button class=\"btn btn-primary btn-lg\" (click)=\"showCreateForm()\">\n                <i class=\"fas fa-plus\"></i> Crear Primer Paciente\n              </button>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Create/Edit Modal -->\n<div class=\"modal fade\" id=\"pacienteModal\" tabindex=\"-1\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">{{ isEditing ? 'Editar' : 'Nuevo' }} Paciente</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <form [formGroup]=\"pacienteForm\" (ngSubmit)=\"savePaciente()\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Documento *</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"documento\" \n                     [class.is-invalid]=\"pacienteForm.get('documento')?.invalid && pacienteForm.get('documento')?.touched\">\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('documento')?.invalid && pacienteForm.get('documento')?.touched\">\n                Documento es requerido\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Tipo de Documento *</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"tipo_documento\">\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Nombre *</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"nombre\"\n                     [class.is-invalid]=\"pacienteForm.get('nombre')?.invalid && pacienteForm.get('nombre')?.touched\">\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('nombre')?.invalid && pacienteForm.get('nombre')?.touched\">\n                Nombre es requerido\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Apellidos *</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"apellidos\"\n                     [class.is-invalid]=\"pacienteForm.get('apellidos')?.invalid && pacienteForm.get('apellidos')?.touched\">\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('apellidos')?.invalid && pacienteForm.get('apellidos')?.touched\">\n                Apellidos son requeridos\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Email *</label>\n              <input type=\"email\" class=\"form-control\" formControlName=\"email\"\n                     [class.is-invalid]=\"pacienteForm.get('email')?.invalid && pacienteForm.get('email')?.touched\">\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('email')?.invalid && pacienteForm.get('email')?.touched\">\n                Email válido es requerido\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Teléfono</label>\n              <input type=\"tel\" class=\"form-control\" formControlName=\"telefono\">\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Fecha de Nacimiento *</label>\n              <input type=\"date\" class=\"form-control\" formControlName=\"fecha_nacimiento\"\n                     [class.is-invalid]=\"pacienteForm.get('fecha_nacimiento')?.invalid && pacienteForm.get('fecha_nacimiento')?.touched\">\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('fecha_nacimiento')?.invalid && pacienteForm.get('fecha_nacimiento')?.touched\">\n                Fecha de nacimiento es requerida\n              </div>\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Edad</label>\n              <input type=\"text\" class=\"form-control\" [value]=\"calculatedAge ? calculatedAge + ' años' : ''\" readonly>\n            </div>\n            <div class=\"col-md-4\">\n              <label class=\"form-label\">Género *</label>\n              <select class=\"form-select\" formControlName=\"genero\" \n                      [class.is-invalid]=\"pacienteForm.get('genero')?.invalid && pacienteForm.get('genero')?.touched\">\n                <option value=\"\" selected>Seleccionar</option>\n                <option value=\"M\">Masculino</option>\n                <option value=\"F\">Femenino</option>\n                <option value=\"O\">Otro</option>\n              </select>\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('genero')?.invalid && pacienteForm.get('genero')?.touched\">\n                Debe seleccionar un género\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">RH *</label>\n              <select class=\"form-select\" formControlName=\"rh\" \n                      [class.is-invalid]=\"pacienteForm.get('rh')?.invalid && pacienteForm.get('rh')?.touched\">\n                <option value=\"\" selected>Seleccionar</option>\n                <option value=\"A+\">A+</option>\n                <option value=\"A-\">A-</option>\n                <option value=\"B+\">B+</option>\n                <option value=\"B-\">B-</option>\n                <option value=\"AB+\">AB+</option>\n                <option value=\"AB-\">AB-</option>\n                <option value=\"O+\">O+</option>\n                <option value=\"O-\">O-</option>\n              </select>\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('rh')?.invalid && pacienteForm.get('rh')?.touched\">\n                Debe seleccionar un tipo de sangre\n              </div>\n            </div>\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Nombre del Acudiente</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"nombre_acudiente\" placeholder=\"Nombre completo del acudiente\">\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-12\">\n              <label class=\"form-label\">Teléfono del Acudiente</label>\n              <input type=\"tel\" class=\"form-control\" formControlName=\"telefono_acudiente\" placeholder=\"Teléfono del acudiente\">\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-12\">\n              <label class=\"form-label\">Dirección</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"direccion\" placeholder=\"Dirección de residencia\">\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">EPS</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"eps\" placeholder=\"Entidad Promotora de Salud\">\n            </div>\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Tipo de Afiliación *</label>\n              <select class=\"form-select\" formControlName=\"tipo_afiliacion\" \n                      [class.is-invalid]=\"pacienteForm.get('tipo_afiliacion')?.invalid && pacienteForm.get('tipo_afiliacion')?.touched\">\n                <option value=\"\" selected>Seleccionar</option>\n                <option value=\"Contributivo\">Contributivo</option>\n                <option value=\"Subsidiado\">Subsidiado</option>\n                <option value=\"Excepción\">Excepción</option>\n                <option value=\"no afiliado\">no afiliado</option>\n              </select>\n              <div class=\"invalid-feedback\" *ngIf=\"pacienteForm.get('tipo_afiliacion')?.invalid && pacienteForm.get('tipo_afiliacion')?.touched\">\n                Debe seleccionar un tipo de afiliación\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancelar</button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"savePaciente()\" [disabled]=\"pacienteForm.invalid\">\n          {{ isEditing ? 'Actualizar' : 'Crear' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n"],"names":["CommonModule","ReactiveFormsModule","Validators","i0","ɵɵelement","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","paciente_r2","telefono","ɵɵelementStart","ɵɵelementEnd","ɵɵlistener","PacientesComponent_Conditional_33_For_11_Template_div_click_0_listener","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","verHistoriasClinicas","ɵɵtemplate","PacientesComponent_Conditional_33_For_11_Conditional_8_Template","PacientesComponent_Conditional_33_For_11_Conditional_9_Template","PacientesComponent_Conditional_33_For_11_Template_button_click_11_listener","$event","editPaciente","stopPropagation","PacientesComponent_Conditional_33_For_11_Template_button_click_13_listener","documento","ɵɵtextInterpolate2","nombre","apellidos","ɵɵconditional","ɵɵrepeaterCreate","PacientesComponent_Conditional_33_For_11_Template","_forTrack0","ɵɵrepeater","pacientes","PacientesComponent_Conditional_34_Template_button_click_6_listener","_r4","showCreateForm","PacientesComponent","selectValidator","control","value","required","constructor","fb","pacientesService","toastService","router","isEditing","editingPacienteId","calculatedAge","today","Date","fechaActual","toISOString","split","pacienteForm","group","tipo_documento","email","fecha_nacimiento","genero","rh","nombre_acudiente","telefono_acudiente","direccion","eps","tipo_afiliacion","searchForm","query","get","valueChanges","subscribe","calculateAge","ngOnInit","loadPacientes","goToDashboard","navigate","getPacientes","next","data","Array","isArray","console","warn","error","showError","searchPacientes","searchData","hasSearchTerm","trim","length","showInfo","clearSearch","reset","patchValue","showModal","paciente","id","savePaciente","markAllAsTouched","invalid","formData","updateData","updatePaciente","response","success","showSuccess","hideModal","message","errorMessage","createData","createPaciente","status","deletePaciente","confirm","modal","document","getElementById","bootstrapModal","window","bootstrap","Modal","show","getInstance","hide","fechaNacimiento","birthDate","age","getFullYear","monthDiff","getMonth","getDate","queryParams","pacienteId","pacienteNombre","ɵɵdirectiveInject","i1","FormBuilder","i2","PacientesService","i3","ToastService","i4","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","PacientesComponent_Template","rf","ctx","PacientesComponent_Template_button_click_6_listener","PacientesComponent_Template_form_ngSubmit_13_listener","PacientesComponent_Template_button_click_26_listener","PacientesComponent_Conditional_33_Template","PacientesComponent_Conditional_34_Template","PacientesComponent_Template_form_ngSubmit_43_listener","PacientesComponent_div_49_Template","PacientesComponent_div_59_Template","PacientesComponent_div_64_Template","PacientesComponent_div_70_Template","PacientesComponent_div_80_Template","PacientesComponent_div_97_Template","PacientesComponent_div_121_Template","PacientesComponent_div_155_Template","PacientesComponent_Template_button_click_159_listener","ɵɵproperty","ɵɵclassProp","tmp_5_0","touched","tmp_6_0","tmp_7_0","tmp_8_0","tmp_9_0","tmp_10_0","tmp_11_0","tmp_12_0","tmp_13_0","tmp_14_0","tmp_16_0","tmp_17_0","tmp_18_0","tmp_19_0","tmp_20_0","tmp_21_0","i5","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}